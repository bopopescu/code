10/25/2016 2:53:13 PM     C:\code\report

Design Review	                                Owner	        Date	Comments
[ ] Magnetometer Calibration CDR                Jeffrey Pitman  November 1, 2016
[ ] RS485 for remote sensors (mag and OAT) CDR  Tom Kearns      November 8, 2016
[ ] Override Link CDR                           Derek Vetter    November 9, 2016
[ ] Override Response	                        Bart Bartel	    November 16, 2016
[ ] MCU Mechanical CDR	                        Derek Vetter    ?
[ ] ADU Mechanical CDR	                        Derek Vetter    ?
[ ] Heading Hold Control Law PDR	            Ray Debs	    October 26, 2016
[ ] Remote Mag Package PDR	                    Zach Parsons    November 22, 2016
[ ] Remote Mag Package CDR	                    Zach Parsons    December 5, 2016
[ ] Light Sensor Auto Dimming CDR	            Bart Bartel	    November 22, 2016
[ ] OAT PDR	                                    Ryan Pyke	    November 28, 2016
[ ] OAT CDR	                                    Ryan Pyke	    December 7, 2016
[ ] Sector Gear PDR	                            Derek Vetter    November 29, 2016
[ ] Sector Gear CDR	                            Derek Vetter    December 7, 2016

[ ] OL38_OverDet: see notes in override_detection project
    --> #ifdef experimental code
    -->   need to remember cyclic position and return when override is removed
    -->   create a runtime mapping of cyclic position[airspeed] for straight/level
    -->   start w/unit tests: 2d linterp + 2nd order switch (exp code)
    -->   assess code space savings
    --> #endif
    -> ADP pin for override detection
    -> zero point at engagement
    -> need monoStableFlipFlop (latch) MCP Post pin off for post so no alias
    -> 1 frame delay: Main_MCP: Actuator_Mgmt_Run + MCP_To_ADP_Service_ADP_In
    -> ADP:IPC_Construct_Message -> MCP:MCP_To_ADP_Process_ADP_Message 
                                 -> Actuator_Mgmt_Set_Override_Detected

[ ] Fix simulator - HIRF board => see OL38_SimTune
    -> add termination resistors --> smaller pullups -- see scope
    -> disable Watchdog, halt i2c pre-watchdog test
        => see watchdog_cm3.c #if 0 check status
        =? DISABLE_WATCHDOG & WATCHDOG_DEBUG_MESSAGES
        => in MCP\Source\Power_POST.c::Power_Self_Test_Run return FALSE
        +    #define ACC_EXTENDED_DIAGNOSTICS   1
        +    #define GYRO_EXTENDED_DIAGNOSTICS  1
        +    #define SIGNALS_DIAGNOSTICS        1
        +    #define SIGNALS_PRINT_ERRORS_ONLY  1
    -> PR 3113 chg IRQ priorities Rev 18846, June 8
    -> FTC_OL_36 April 1
    -> disable watchdog: check for i2c reinit after watchdog: does it assume its been init'd?
    --> Add watchdog to blue board code
    --> swap out blue boards
    --> swap out blue board with sensor board

[ ] New telemetry to fix HDG wander/offset
    -> HDG roll rate, heading rate, current target and error
    -> ROLL target (s/b zero), error

[ ] Comp_Filter_Nth_Order: simplify to 1st, 2nd, 3rd order instances
    --> start w/unit tests

[ ] OL38_Merge_DevBr merged into main branch --> CCB should be done (see Bob)
    (Altitude hold envelope protection)
    + altitude comp filter  -> altitude hold
    + speed comp filter     -> speed hold
    + true air speed
    + vertical rate

[ ] Dev console - GoLive VC++ watch list : [sz, addr, value, rd, wr]

[ ] PR 3576 Add CAN SVN spew to bartb\FTC_CPD_4_BR_SVN_SPEW => DEBUG and RELEASE mode
    find DOORS rqmt & runs in debug & release
[ ] PCI Cal debug: -> diff PCI calibrator w/three axis calibrator - diff dirs
[ ] fix coeff generators: ADP/MCP: hcoeff_adp_claw.m/hcoeff_mcp_claw.m
[ ] PR 3303 HAP1-SDD-ADP: Inter_Proc_Comm_ADP: 0.19- OID’s are of type ‘TBD’
    ==> schedule live CCB meeting for this one.

[>reqts] 3292 in Inter_Proc_Comm_MCP.h, malformed Requirement tag
    In http://subversion.helitrak.com/svn/HAP1-CERT/System/SWDev/MCP/Header/Inter_Proc_Comm_MCP.h
    /** ===========================================================================
    \struct  SYSTEM_IPC_POST_STRUCT
    \brief    Holds the CRC data passed in the data Ring Message for a single MCP.
              (data: 4 bytes)             
    \MCPReqt{HAP1-SDD-MCP,}
    Totally undefined, need to DD item in SDD-MCP

[>reqts] 3294 In Steam_IO_MCP.c, malformed Requirement tag
    In http://subversion.helitrak.com/svn/HAP1-CERT/System/SWDev/MCP/Source/Stream_IO_MCP.c
    /** ========================================================================
    \def FRAM1
    \brief Struct representing remote FRAM device #1
    \MCPReqt{HAP1-SDD-MCP,xxx}
    Totally undefined, need to DD item in SDD-MCP

[rdy4ccb] 2509 - Phase Timing: PR development tool: bartb/DevBrProfiler
    [ ] see PP files for macro troubleshooting
    [ ] save peer comments, prep for CCB
    [x] search for printf variants in autopilot
    add more comments
    chg: measured = phases[i].avg + (NUM_STD_DEV_SAMPLE*phases[i].stdev);
    absorb sola's utilization into profiler
    add unit tests

HAP Certification
    [x] ADAHRS ARCH Reqts : Jeffrey, Michael, Bart
    [ ] Outer Loop ARCH Reqts : Bart, Jeffrey
    [ ] Dimmer Calibration : Bart --> see Tom
    [ ] Altitude Hold Envelope Protection : Ray, Bart
    [ ] Speed Complementary Filter : Bart
    [ ] Altitude Complementary Filter : Bart
    [ ] PCI resistor update : Tom, Bart
    [ ] PCI Calibration : Samir
    [ ] Unit tests: 6 ADAHRS + 3 OL

[  ] Research for post-FLT039
    [ ] Add telemetry flags for limiters in OL pipeline
    [ ] 2 bits / flag (hi/low)
    [ ] file PR for this addition to telemetry
[ ] Research new feature
    [ ] vertical speed term - in gust - no push over (pitch)
    [ ] essentially a G-limit on OL pitch control -- see inner loop G-limiter
[ ] Outer Loop
    [ ] Env Prot -> Altitude hold mode
    [ ] Hdg Comp Fltr : 15 days
    [ ] Roll Control  : test harness
        [ ] Matlab
        [ ] Unittest - hand generated vectors (sinewave) match autopilot w/model
[ ] audit of board serialization process
[ ] checkin coeffs
    -> SIM: trk prop    2.3375
            trk int     0.1450
            alt prop    0.0135
            alt int     0.0005
    -> FLT: trk prop    2.5375
            trk int     0.1250
            alt prop    ??????
            alt int     ??????
[ ] debug coeff_builders && trace outer loop Gains => sample time mismatches --> +ZOHs
[ ] debug transient following CPD mode

*** notes: COM6,uname:unamehelitrak
** @@ Main_MCP.c  -> Fault_Mgmt_Set_Fault(FAULT_MULTIPLE_LEVEL_THREE_FAULTS);
** @@ MCP_State.c -> Fault_Mgmt_Set_Fault(FAULT_MCP_POST);
5 new feats: new mag, spd comp fltr, tuning, cpd integ, override detect, trunk bld, dimmer cal
https://www.mediawiki.org/wiki/Help:Formatting
http://www.ircbeginner.com/ircinfo/ircc-commands.html <== webchat.freenode.net commands
mstsc:understand-pc -> software schedules
    open -> ( ) Y:\Project Management\Schedule\HAP1_Software_Schedule.mpp
PERS: RaspPi power supply, reader=http://bravegnu.org/gnu-eprog/
0========1=========2=========3=========4=========5=========6=========7=========8=========9=========0

accelerometer on mag board is not used - remove app code
mag/install/calibrate -> earth's mag field strength - dip angle vs down vector: noaa.org, helmholtz coil

fs01\helitrak\projectmgmt\schedule\helitrakschedule\R&D projects
    outer loop, ADAHRS, PR dispostion, flight tests, SIL
ARCH-OL -> Roll control :: diff DevBr and FTC 20

Reminder of where everything lives:
[ ] checkins:
    ConfigDumper CRCs -> TelemetryV2
    database for CRCs/Branch/Serial Numbers -> toys\py (sqlite)
        => F:\apps\DataLite\DataLite
    Phase timing -> bartb\FTC_CPD_4_BR
    Branch CAN spew -> bartb\FTC_CPD_4_BR (requires perl & svn)
    Eyes => -> TelemetryV2
    Fault calculator -> TelemetryV2
    Override detection -> OL38_OverDet

http://www.hanselman.com/blog/ScottHanselmans2014UltimateDeveloperAndPowerUsersToolListForWindows.aspx

