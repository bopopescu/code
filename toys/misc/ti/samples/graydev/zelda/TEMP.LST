0001   0000             #define TI83 
0002   0000             ;==========================================================
0003   0000             ;Header
0004   0000             ;==========================================================
0011   0000                     .list
0012   0000             
0013   0000~            #ifdef  TI83P
0014   0000~                    .org    progstart-2
0015   0000~                    .db     $BB,$6D
0016   0000             #else
0017   9327                     .org    progstart
0018   9327             #endif
0019   9327 C9                  ret
0020   9328 30 16               jr      nc,start_of_program
0021   932A 477261797363        .db     "Grayscale Zelda 0.001",0
0021   9330 616C65205A656C646120302E30303100
0022   9340             
0023   9340             zeldaX		=saferam3
0024   9340             zeldaY		=saferam3+1
0025   9340             supermapX	=saferam3+2
0026   9340             supermapY	=saferam3+3
0027   9340             viewmapX	=saferam3+4
0028   9340             viewmapY	=saferam3+5
0029   9340             viewX		=saferam3+6
0030   9340             viewY		=saferam3+7
0031   9340             X		=saferam3+8
0032   9340             Y		=saferam3+9
0033   9340             
0034   9340             zeldaDirection	=saferam3+10
0035   9340             
0036   9340             OldX		=saferam3+11
0037   9340             OldY		=saferam3+12
0038   9340             CharCycle	=saferam3+13
0039   9340             
0040   9340             start_of_program:
0041   9340             ;==========================================================
0042   9340             ; start of program
0043   9340             ;==========================================================
0044   9340 CD 5A 98    	call gsEnable
0045   9343 CD 76 93    	call NewGameVars
0046   9346             
0047   9346 CD 61 93    	call EnterSubMap
0048   9349             
0049   9349 CD F6 99    	call gsSetFreq
0050   934C             
0051   934C             loop:
0052   934C CD A5 93    	call checkKeys
0053   934F CD 28 98    	call gsClearbuffer
0054   9352 CD 50 95    	call mapDrawView
0055   9355 CD 93 94    	call charDraw
0056   9358 CD 43 98    	call gsCopyBuffer
0057   935B 18 EF       	jr loop
0058   935D             
0059   935D             quit:
0060   935D CD 87 98    	call gsDisable
0061   9360 C9          	ret
0062   9361             
0063   9361             
0064   9361             
0065   9361             
0066   9361             ;==========================================================
0067   9361             ; EnterSubMap
0068   9361             ;==========================================================
0069   9361             EnterSubMap:
0070   9361 AF          	xor a
0071   9362 32 D6 80    	ld (charCycle),a
0072   9365             
0073   9365 CD C7 95    	call mapCreateSubMap
0074   9368 C9          	ret
0075   9369             
0076   9369             ;==========================================================
0077   9369             ; DrawScreen
0078   9369             ;==========================================================
0079   9369 CD 28 98    	call gsClearbuffer
0080   936C CD 50 95    	call mapDrawView
0081   936F CD 93 94    	call charDraw
0082   9372 CD 43 98    	call gsCopyBuffer
0083   9375 C9          	ret
0084   9376             
0085   9376             ;==========================================================
0086   9376             ; NewGameVars
0087   9376             ;==========================================================
0088   9376             NewGameVars:
0089   9376 3E 0A       	ld a,10
0090   9378 32 C9 80    	ld (zeldaX),a
0091   937B 32 D4 80    	ld (oldX),a
0092   937E 3E 0A       	ld a,10
0093   9380 32 CA 80    	ld (zeldaY),a
0094   9383 32 D5 80    	ld (oldY),a
0095   9386 3E 06       	ld a,6
0096   9388 32 CF 80    	ld (viewX),a
0097   938B 3E 07       	ld a,7
0098   938D 32 D0 80    	ld (viewY),a
0099   9390 3E 02       	ld a,2
0100   9392 32 D3 80    	ld (zeldaDirection),a
0101   9395 3E 02       	ld a,2
0102   9397 32 CB 80    	ld (superMapX),a
0103   939A 3E 04       	ld a,4
0104   939C 32 CC 80    	ld (superMapY),a
0105   939F 3E FF       	ld a,255
0106   93A1 32 D6 80    	ld (charCycle),a
0107   93A4 C9          	ret
0108   93A5             
0109   93A5             ;==========================================================
0110   93A5             ; checkKeys
0111   93A5             ;==========================================================
0112   93A5             checkKeys:
0113   93A5             
0114   93A5 3A CA 80    	ld a,(zeldaY)
0115   93A8 32 D5 80    	ld (OldY),a
0116   93AB 3A C9 80    	ld a,(zeldaX)
0117   93AE 32 D4 80    	ld (OldX),a
0118   93B1             
0119   93B1 CD 4A 99    	call gsGetk
0120   93B4 FE 02       	cp gLeft	\ jr z,ck_left
0120   93B6 28 11       
0121   93B8 FE 03       	cp gRight	\ jr z,ck_right
0121   93BA 28 1F       
0122   93BC FE 04       	cp gUp		\ jr z,ck_up
0122   93BE 28 2D       
0123   93C0 FE 01       	cp gDown	\ jr z,ck_down
0123   93C2 28 3A       
0124   93C4 FE 0F       	cp gClear	\ jr z,ck_quit
0124   93C6 28 48       
0125   93C8 C9          	ret
0126   93C9             ck_left:
0127   93C9 3A C9 80    	ld a,(zeldaX)
0128   93CC 3D          	dec a
0129   93CD FE FF       	cp 255 \ jr z,ck_goscreenleft
0129   93CF 28 44       
0130   93D1 32 C9 80    	ld (zeldaX),a
0131   93D4 3E 03       	ld a,3
0132   93D6 32 D3 80    	ld (zeldaDirection),a
0133   93D9 18 65       	jr ck_redraw
0134   93DB             ck_right:
0135   93DB 3A C9 80    	ld a,(zeldaX)
0136   93DE 3C          	inc a
0137   93DF FE 13       	cp 19 \ jr z,ck_goscreenright
0137   93E1 28 3D       
0138   93E3 32 C9 80    	ld (zeldaX),a
0139   93E6 3E 01       	ld a,1
0140   93E8 32 D3 80    	ld (zeldaDirection),a
0141   93EB 18 53       	jr ck_redraw
0142   93ED             ck_up:
0143   93ED 3A CA 80    	ld a,(zeldaY)
0144   93F0 3D          	dec a
0145   93F1 FE FF       	cp 255 \ jr z,ck_goscreenup
0145   93F3 28 35       
0146   93F5 32 CA 80    	ld (zeldaY),a
0147   93F8 AF          	xor a
0148   93F9 32 D3 80    	ld (zeldaDirection),a
0149   93FC 18 42       	jr ck_redraw
0150   93FE             ck_down:
0151   93FE 3A CA 80    	ld a,(zeldaY)
0152   9401 3C          	inc a
0153   9402 FE 0F       	cp 15 \ jr z,ck_goscreendown
0153   9404 28 2F       
0154   9406 32 CA 80    	ld (zeldaY),a
0155   9409 3E 02       	ld a,2
0156   940B 32 D3 80    	ld (zeldaDirection),a
0157   940E 18 30       	jr ck_redraw
0158   9410             ck_quit:
0159   9410 E1          	pop hl
0160   9411 CD 87 98    	call gsDisable
0161   9414 C9          	ret
0162   9415             
0163   9415             ck_goscreenleft:
0164   9415 3E 12       	ld a,18
0165   9417 32 C9 80    	ld (zeldaX),a
0166   941A 21 CB 80    	ld hl,supermapX
0167   941D 35          	dec (hl)
0168   941E 18 1D       	jr ck_reloadscreen 
0169   9420             ck_goscreenright:
0170   9420 AF          	xor a
0171   9421 32 C9 80    	ld (zeldaX),a
0172   9424 21 CB 80    	ld hl,supermapX
0173   9427 34          	inc (hl)
0174   9428 18 13       	jr ck_reloadscreen 
0175   942A             ck_goscreenup:
0176   942A 3E 0E       	ld a,14
0177   942C 32 CA 80    	ld (zeldaY),a
0178   942F 21 CC 80    	ld hl,supermapY
0179   9432 35          	dec (hl)
0180   9433 18 08       	jr ck_reloadscreen 
0181   9435             ck_goscreendown:
0182   9435 AF          	xor a
0183   9436 32 CA 80    	ld (zeldaY),a
0184   9439 21 CC 80    	ld hl,supermapY
0185   943C 34          	inc (hl)
0186   943D             ck_reloadscreen:
0187   943D CD 61 93    	call EnterSubMap
0188   9440             
0189   9440             ck_redraw:
0190   9440             	;=== switch cycle
0191   9440 21 D6 80    	ld hl,charCycle
0192   9443 7E          	ld a,(hl)
0193   9444 EE 01       	xor 1
0194   9446 77          	ld (hl),a
0195   9447             	
0196   9447             	;=== check tile
0197   9447 3A C9 80    	ld a,(zeldaX)
0198   944A 47          	ld b,a
0199   944B 3A CA 80    	ld a,(zeldaY)
0200   944E 4F          	ld c,a
0201   944F 11 02 02    	ld de,2*256+2
0202   9452 CD 0B 95    	call mapCheckLargePos
0203   9455 FE 20       	cp 32 \ jr c,ck_nowrongpos
0203   9457 38 0C       
0204   9459 3A D4 80    	ld a,(OldX)
0205   945C 32 C9 80    	ld (zeldaX),a
0206   945F 3A D5 80    	ld a,(OldY)
0207   9462 32 CA 80    	ld (zeldaY),a
0208   9465             
0209   9465             ck_nowrongpos:
0210   9465             	;=== update viewX
0211   9465 3A C9 80    	ld a,(zeldaX)
0212   9468 D6 04       	sub 4
0213   946A FE C8       	cp 200 \ jr nc,ck_borderleft
0213   946C 30 06       
0214   946E FE 0A       	cp 10 \ jr nc,ck_borderright
0214   9470 30 05       
0215   9472 18 05       	jr ck_ycheck
0216   9474             ck_borderleft:
0217   9474 AF          	xor a
0218   9475 18 02       	jr ck_ycheck
0219   9477             ck_borderright:
0220   9477 3E 0A       	ld a,10
0221   9479             ck_ycheck:
0222   9479 32 CF 80    	ld (viewX),a
0223   947C 3A CA 80    	ld a,(zeldaY)
0224   947F D6 03       	sub 3
0225   9481 FE C8       	cp 200	\ jr nc,ck_borderup
0225   9483 30 06       
0226   9485 FE 08       	cp 8	\ jr nc,ck_borderdown
0226   9487 30 05       
0227   9489 18 05       	jr ck_endcheck
0228   948B             ck_borderup:
0229   948B AF          	xor a
0230   948C 18 02       	jr ck_endcheck
0231   948E             ck_borderdown:
0232   948E 3E 08       	ld a,8
0233   9490             ck_endcheck:
0234   9490 32 D0 80    	ld (viewY),a
0235   9493             
0236   9493             
0237   9493             ;==========================================================
0238   9493             ; charDraw
0239   9493             ;==========================================================
0240   9493             charDraw:
0241   9493 3A D3 80    	ld a,(zeldaDirection)
0242   9496 87          	add a,a
0243   9497 87          	add a,a
0244   9498 26 00       	ld h,0 \ ld l,a
0244   949A 6F          
0245   949B 11 E7 A0    	ld de,charGraphicCombinations
0246   949E 19          	add hl,de
0247   949F EB          	ex de,hl
0248   94A0 3A D6 80    	ld a,(charCycle)
0249   94A3 87          	add a,a
0250   94A4 87          	add a,a
0251   94A5 87          	add a,a
0252   94A6 87          	add a,a
0253   94A7 26 00       	ld h,0 \ ld l,a
0253   94A9 6F          
0254   94AA 19          	add hl,de
0255   94AB E5          	push hl
0256   94AC DD E1       	pop ix
0257   94AE             
0258   94AE 3A CA 80    	ld a,(zeldaY)
0259   94B1 6F          	ld l,a
0260   94B2 3A C9 80    	ld a,(zeldaX)
0261   94B5 67          	ld h,a
0262   94B6             
0263   94B6 11 87 A8    	ld de,char
0264   94B9 CD BD 94    	call drawThing
0265   94BC C9          	ret
0266   94BD             
0267   94BD             ;==========================================================
0268   94BD             ; drawThing
0269   94BD             ;==========================================================
0270   94BD             ; this draws something if its in the window
0271   94BD             ; input: h=xpos l=ypos de=sprites pointer ix=table pointer
0272   94BD             drawThing:
0273   94BD DD 7E 00    	ld a,(ix)	
0274   94C0 CD E0 94    	call drawThing8x8
0275   94C3 DD 23       	inc ix
0276   94C5 DD 7E 00    	ld a,(ix)
0277   94C8 24          	inc h
0278   94C9 CD E0 94    	call drawThing8x8
0279   94CC 25          	dec h
0280   94CD 2C          	inc l
0281   94CE DD 23       	inc ix
0282   94D0 DD 7E 00    	ld a,(ix)
0283   94D3 CD E0 94    	call drawThing8x8
0284   94D6 DD 23       	inc ix
0285   94D8 DD 7E 00    	ld a,(ix)
0286   94DB 24          	inc h
0287   94DC CD E0 94    	call drawThing8x8
0288   94DF C9          	ret
0289   94E0             
0290   94E0             drawThing8x8:
0291   94E0             	;input: h=x l=y de=spritelist_begin a=sprite_nr
0292   94E0 DD E5       	push ix
0293   94E2 F5          	push af
0294   94E3 E5          	push hl
0295   94E4 F5          	push af
0296   94E5 3A CF 80    	ld a,(viewX)
0297   94E8 94          	sub h
0298   94E9 ED 44       	neg
0299   94EB FE 0A       	cp 10 \ jr nc,drawThing8x8_quit
0299   94ED 30 16       
0300   94EF 67          	ld h,a
0301   94F0 3A D0 80    	ld a,(viewY)
0302   94F3 95          	sub l
0303   94F4 ED 44       	neg
0304   94F6 FE 08       	cp 8 \ jr nc,drawThing8x8_quit
0304   94F8 30 0B       
0305   94FA 87          	add a,a
0306   94FB 87          	add a,a
0307   94FC 87          	add a,a
0308   94FD 6F          	ld l,a
0309   94FE F1          	pop af
0310   94FF D5          	push de
0311   9500 CD D7 96    	call gsAlignedMaskedSprite
0312   9503 D1          	pop de
0313   9504 F5          	push af
0314   9505             drawThing8x8_quit:
0315   9505 F1          	pop af
0316   9506 E1          	pop hl
0317   9507 F1          	pop af
0318   9508 DD E1       	pop ix
0319   950A C9          	ret
0320   950B             
0321   950B             ;==========================================================
0322   950B             ; Code includes
0323   950B             ;==========================================================
0324   950B             	#include map.inc
0001+  950B             ;==========================================================
0002+  950B             ; Map routines
0003+  950B             ;==========================================================
0004+  950B             
0005+  950B             ;==========================================================
0006+  950B             ; mapCheckLargePos
0007+  950B             ;==========================================================
0008+  950B             ; b=x, c=y
0009+  950B             ; d=width  (16 pixels is 2)
0010+  950B             ; e=height (idem)
0011+  950B             ; output: a=(wrong) tile nr
0012+  950B             mapCheckLargePos:
0013+  950B             
0014+  950B AF          	xor a
0015+  950C             mclp_yloop:
0016+  950C 32 38 95    	ld (mclp_y),a
0017+  950F 81          	add a,c
0018+  9510 6F          	ld l,a
0019+  9511             	
0020+  9511 AF          	xor a
0021+  9512             mclp_xloop:
0022+  9512 32 37 95    	ld (mclp_x),a
0023+  9515 80          	add a,b
0024+  9516 67          	ld h,a
0025+  9517             
0026+  9517 C5          	push bc
0027+  9518 E5          	push hl
0028+  9519 CD 3A 95    	call mapCheckpos
0029+  951C E1          	pop hl
0030+  951D C1          	pop bc
0031+  951E 32 39 95    	ld (mclp_outcome),a
0032+  9521 FE 20       	cp 32 \ jr nc,mclp_end
0032+  9523 30 0E       
0033+  9525             	;jr mclp_end
0034+  9525             
0035+  9525 3A 37 95    	ld a,(mclp_x)
0036+  9528 3C          	inc a
0037+  9529 BA          	cp d \ jr nz,mclp_xloop
0037+  952A 20 E6       
0038+  952C 3A 38 95    	ld a,(mclp_y)
0039+  952F 3C          	inc a
0040+  9530 BB          	cp e \ jr nz,mclp_yloop
0040+  9531 20 D9       
0041+  9533             mclp_end:
0042+  9533 3A 39 95    	ld a,(mclp_outcome)
0043+  9536 C9          	ret
0044+  9537             	
0045+  9537 00          mclp_x: .db 0 ;ugly, couldnt find another method
0046+  9538 00          mclp_y:	.db 0
0047+  9539 00          mclp_outcome:	.db 0
0048+  953A             ;==========================================================
0049+  953A             ; mapCheckPos
0050+  953A             ;==========================================================
0051+  953A             ; h=x, l=y
0052+  953A             ; output: a=tile
0053+  953A             mapCheckpos:
0054+  953A 7C          	ld a,h
0055+  953B F5          	push af
0056+  953C 26 00       	ld h,0
0057+  953E 29          	add hl,hl
0058+  953F 29          	add hl,hl
0059+  9540 44          	ld b,h \ ld c,l
0059+  9541 4D          
0060+  9542 29          	add hl,hl
0061+  9543 29          	add hl,hl
0062+  9544 09          	add hl,bc
0063+  9545 F1          	pop af
0064+  9546 06 00       	ld b,0 \ ld c,a
0064+  9548 4F          
0065+  9549 09          	add hl,bc
0066+  954A 01 37 B6    	ld bc,submap
0067+  954D 09          	add hl,bc
0068+  954E 7E          	ld a,(hl)
0069+  954F             
0070+  954F C9          	ret
0071+  9550             
0072+  9550             ;==========================================================
0073+  9550             ; mapDrawView
0074+  9550             ;==========================================================
0075+  9550             ; draw the player view
0076+  9550             mapDrawView:
0077+  9550             
0078+  9550             
0079+  9550             	;jp mdvend
0080+  9550             
0081+  9550             	;first update the tiles
0082+  9550 21 37 B6    	ld hl,submap
0083+  9553 06 10       	ld b,16
0084+  9555             mdv_updyloop:
0085+  9555 C5          	push bc
0086+  9556 06 14       	ld b,20
0087+  9558             mdv_updxloop:
0088+  9558 C5          	push bc
0089+  9559 7E          	ld a,(hl)
0090+  955A FE 10       	cp 16 \ jr c,mdv_updend
0090+  955C 38 15       
0091+  955E FE 1C       	cp 28 \ jr nc,mdv_updend
0091+  9560 30 11       
0092+  9562 3C          	inc a
0093+  9563 FE 14       	cp 20 \ jr z,mdv_updrst
0093+  9565 28 0A       
0094+  9567 FE 18       	cp 24 \ jr z,mdv_updrst
0094+  9569 28 06       
0095+  956B FE 1C       	cp 28 \ jr z,mdv_updrst
0095+  956D 28 02       
0096+  956F 18 02       	jr mdv_updend
0097+  9571             mdv_updrst:
0098+  9571 D6 04       	sub 4
0099+  9573             mdv_updend:
0100+  9573 77          	ld (hl),a
0101+  9574 23          	inc hl
0102+  9575 C1          	pop bc
0103+  9576 10 E0       	djnz mdv_updxloop
0104+  9578 C1          	pop bc
0105+  9579 10 DA       	djnz mdv_updyloop
0106+  957B             
0107+  957B             mdvend:
0108+  957B             
0109+  957B 21 37 B6    	ld hl,submap
0110+  957E 3A CF 80    	ld a,(viewX)
0111+  9581 06 00       	ld b,0 \ ld c,a
0111+  9583 4F          
0112+  9584 09          	add hl,bc
0113+  9585             	
0114+  9585 3A D0 80    	ld a,(viewY)
0115+  9588 CD 4F 96    	call wordmul20
0116+  958B 09          	add hl,bc
0117+  958C             
0118+  958C EB          	ex de,hl
0119+  958D             
0120+  958D AF          	xor a
0121+  958E             mdv_yloop:
0122+  958E 32 D2 80    	ld (y),a
0123+  9591 AF          	xor a
0124+  9592             mdv_xloop:
0125+  9592 32 D1 80    	ld (x),a
0126+  9595             
0127+  9595 1A          	ld a,(de) ;de=submap
0128+  9596 D5          	push de
0129+  9597 CD 43 96    	call wordmul16
0130+  959A 21 07 A1    	ld hl,tiles1
0131+  959D 09          	add hl,bc
0132+  959E E5          	push hl
0133+  959F DD E1       	pop ix
0134+  95A1             
0135+  95A1 3A D2 80    	ld a,(y)
0136+  95A4 87          	add a,a
0137+  95A5 87          	add a,a
0138+  95A6 87          	add a,a
0139+  95A7 6F          	ld l,a
0140+  95A8             
0141+  95A8 3A D1 80    	ld a,(x)
0142+  95AB CD A6 96    	call gsAlignedSprite
0143+  95AE             
0144+  95AE D1          	pop de
0145+  95AF 13          	inc de	
0146+  95B0             
0147+  95B0 3A D1 80    	ld a,(x)
0148+  95B3 3C          	inc a
0149+  95B4 FE 0A       	cp 10 \ jr nz,mdv_xloop
0149+  95B6 20 DA       
0150+  95B8             
0151+  95B8 01 0A 00    	ld bc,10
0152+  95BB EB          	ex de,hl
0153+  95BC 09          	add hl,bc
0154+  95BD EB          	ex de,hl
0155+  95BE             
0156+  95BE 3A D2 80    	ld a,(y)
0157+  95C1 3C          	inc a
0158+  95C2 FE 08       	cp 8 \ jr nz,mdv_yloop
0158+  95C4 20 C8       
0159+  95C6 C9          	ret
0160+  95C7             
0161+  95C7             
0162+  95C7             ;==========================================================
0163+  95C7             ; mapCreateSubMap
0164+  95C7             ;==========================================================
0165+  95C7             ; this creates the submap
0166+  95C7             
0167+  95C7             mapCreatesubmap:
0168+  95C7             
0169+  95C7 3A CC 80    	ld a,(superMapY)
0170+  95CA             
0171+  95CA 26 00       	ld h,0
0172+  95CC 6F          	ld l,a
0173+  95CD 29          	add hl,hl ;*2
0174+  95CE 29          	add hl,hl ;*4
0175+  95CF 29          	add hl,hl ;*8
0176+  95D0 29          	add hl,hl ;*16
0177+  95D1 29          	add hl,hl ;*32
0178+  95D2 E5          	push hl
0179+  95D3 29          	add hl,hl ;*64
0180+  95D4 E5          	push hl
0181+  95D5 29          	add hl,hl ;*128
0182+  95D6 E5          	push hl
0183+  95D7 29          	add hl,hl ;*256
0184+  95D8 D1          	pop de
0185+  95D9 19          	add hl,de ;*384
0186+  95DA D1          	pop de
0187+  95DB 19          	add hl,de ;*448
0188+  95DC D1          	pop de
0189+  95DD 19          	add hl,de ;*480
0190+  95DE             
0191+  95DE 54          	ld d,h \ ld e,l
0191+  95DF 5D          
0192+  95E0 3A CB 80    	ld a,(superMapX)
0193+  95E3 26 00       	ld h,0 \ ld l,a
0193+  95E5 6F          
0194+  95E6             
0195+  95E6 CD 5E 96    	call hlmul10
0196+  95E9             
0197+  95E9 19          	add hl,de
0198+  95EA 11 EF AA    	ld de,map0
0199+  95ED 19          	add hl,de
0200+  95EE             
0201+  95EE             	;ld hl,map0+(4*480+(2*10))
0202+  95EE             
0203+  95EE 11 37 B6    	ld de,submap
0204+  95F1 06 08       	ld b,8
0205+  95F3             mapCS_yloop:
0206+  95F3 C5          	push bc
0207+  95F4 06 0A       	ld b,10
0208+  95F6             mapCS_xloop:
0209+  95F6 C5          	push bc
0210+  95F7             
0211+  95F7 7E          	ld a,(hl)
0212+  95F8 E5          	push hl
0213+  95F9 CD 39 96    	call wordmul4
0214+  95FC 21 27 AA    	ld hl,convert
0215+  95FF 09          	add hl,bc
0216+  9600 7E          	ld a,(hl)
0217+  9601 12          	ld (de),a
0218+  9602 23          	inc hl
0219+  9603 13          	inc de
0220+  9604 D5          	push de
0221+  9605 7E          	ld a,(hl)
0222+  9606 12          	ld (de),a
0223+  9607 EB          	ex de,hl
0224+  9608 01 13 00    	ld bc,19
0225+  960B 09          	add hl,bc
0226+  960C EB          	ex de,hl
0227+  960D 23          	inc hl
0228+  960E 7E          	ld a,(hl)
0229+  960F 12          	ld (de),a
0230+  9610 23          	inc hl
0231+  9611 13          	inc de
0232+  9612 7E          	ld a,(hl)
0233+  9613 12          	ld (de),a
0234+  9614 D1          	pop de
0235+  9615 13          	inc de
0236+  9616 E1          	pop hl
0237+  9617 23          	inc hl
0238+  9618             mapCS_xend:
0239+  9618 C1          	pop bc
0240+  9619 10 DB       	djnz mapCS_xloop
0241+  961B EB          	ex de,hl
0242+  961C 01 14 00    	ld bc,20
0243+  961F 09          	add hl,bc
0244+  9620 EB          	ex de,hl
0245+  9621 01 32 00    	ld bc,50
0246+  9624 09          	add hl,bc
0247+  9625             mapCS_yend:
0248+  9625 C1          	pop bc
0249+  9626 10 CB       	djnz mapCS_yloop
0250+  9628             
0251+  9628 C9          	ret
0325   9629             	#include math.inc
0001+  9629             ;==========================================================
0002+  9629             ; Math routines
0003+  9629             ;==========================================================
0004+  9629             
0005+  9629             mul4:
0006+  9629 87          	add a,a
0007+  962A 87          	add a,a
0008+  962B 06 00       	ld b,0 \ ld c,a
0008+  962D 4F          
0009+  962E C9          	ret
0010+  962F             
0011+  962F             mul20:
0012+  962F 87          	add a,a
0013+  9630 87          	add a,a
0014+  9631 47          	ld b,a
0015+  9632 87          	add a,a
0016+  9633 87          	add a,a
0017+  9634 80          	add a,b
0018+  9635 06 00       	ld b,0 \ ld c,a
0018+  9637 4F          
0019+  9638 C9          	ret
0020+  9639             
0021+  9639             wordmul4:
0022+  9639 E5          	push hl
0023+  963A 26 00       	ld h,0 \ ld l,a
0023+  963C 6F          
0024+  963D 29          	add hl,hl
0025+  963E 29          	add hl,hl
0026+  963F 44          	ld b,h \ ld c,l
0026+  9640 4D          
0027+  9641 E1          	pop hl
0028+  9642 C9          	ret
0029+  9643             
0030+  9643             wordmul16:
0031+  9643 E5          	push hl
0032+  9644 26 00       	ld h,0 \ ld l,a
0032+  9646 6F          
0033+  9647 29          	add hl,hl
0034+  9648 29          	add hl,hl
0035+  9649 29          	add hl,hl
0036+  964A 29          	add hl,hl
0037+  964B 44          	ld b,h \ ld c,l
0037+  964C 4D          
0038+  964D E1          	pop hl
0039+  964E C9          	ret
0040+  964F             
0041+  964F             wordmul20:
0042+  964F E5          	push hl
0043+  9650 26 00       	ld h,0 \ ld l,a
0043+  9652 6F          
0044+  9653 29          	add hl,hl
0045+  9654 29          	add hl,hl
0046+  9655 44          	ld b,h \ ld c,l
0046+  9656 4D          
0047+  9657 29          	add hl,hl
0048+  9658 29          	add hl,hl
0049+  9659 09          	add hl,bc
0050+  965A 44          	ld b,h \ ld c,l
0050+  965B 4D          
0051+  965C E1          	pop hl
0052+  965D C9          	ret
0053+  965E             
0054+  965E             hlmul10:
0055+  965E 29          	add hl,hl
0056+  965F 44          	ld b,h \ ld c,l
0056+  9660 4D          
0057+  9661 29          	add hl,hl
0058+  9662 29          	add hl,hl
0059+  9663 09          	add hl,bc
0060+  9664 C9          	ret
0061+  9665             
0326   9665             
0327   9665             ;==========================================================
0328   9665             ; grayscale include file
0329   9665             ;==========================================================
0330   9665             ; comment these defines in or out to activate/deactivate them
0331   9665             
0332   9665             ;#DEFINE NODOUBLEBUFFER	;when on,routines write directly to screen (faster and smaller)
0333   9665             			;doesnt seem to work yet (i'll try to fix it)
0334   9665             ;#DEFINE 3LEVELGRAY	;makes it 3-level grayscale (a bit faster)
0335   9665             
0336   9665             #DEFINE GETK		;includes gsGetk
0337   9665             #DEFINE XORSPRITE	;includes gsPutSprite
0338   9665             #DEFINE LARGESPRITE	;includes gsLargeSprite
0339   9665             #DEFINE ALIGNEDSPRITE	;includes gsAlignedsprite
0340   9665             #DEFINE ALIGNEDMASKEDSPRITE
0341   9665             
0342   9665             #include graylib.inc
0001+  9665             ;==========================================================
0002+  9665             ; GRAYSCALE LIBRARY INCLUDE FILE
0003+  9665             ;==========================================================
0004+  9665             ; 11:20 10-11-2002
0005+  9665             ;
0006+  9665             ; by Duck (DP Kingma)
0007+  9665             ; works under ion 83-/83+
0008+  9665             ;
0009+  9665             ; ==DEVELOPER NOTES==
0010+  9665             ;
0011+  9665             ; gsPutSprite	=xor sprite
0012+  9665             ; gsLargeSprite	=large sprite
0013+  9665             ; gsEnable		=enable grayscale
0014+  9665             ; gsDisable		=disable grayscale
0015+  9665             ; gsClearbuffer		=clear buffers
0016+  9665             ; gsCopybuffer		=copies buffers to active buffers (so screen)
0017+  9665             ; gsGetk		=tried to make is same as romcall _getk
0018+  9665             ; gsSetFreq		=set frequency
0019+  9665             ; (grayscale routines)	=the grayscale interrupts, dont activate them yourself ;)
0020+  9665             ;
0021+  9665             ; look at duckgray.txt for information about development!
0022+  9665             
0023+  9665             
0024+  9665             ; interrupt frequency
0025+  9665             ; can be 2, 4 and 6
0026+  9665             
0027+  9665 02          InterFrequency:	.db 2
0028+  9666             
0029+  9666             gbuf1	= gbuf
0030+  9666             gbuf2	= saferam1
0031+  9666             
0032+  9666~            #ifdef NODOUBLEBUFFER
0033+  9666~            gActivebuf1 = gbuf1
0034+  9666~            gActivebuf2 = gbuf2
0035+  9666             #endif 
0036+  9666             
0037+  9666             #ifdef XORSPRITE
0038+  9666             ;==========================================================
0039+  9666             ; gsPutSprite
0040+  9666             ;==========================================================
0041+  9666             ;=== gsPutSprite 1.0 by Durk Kingma
0042+  9666             ;thanks to Joe Wingbermuehle for his ionPutSprite routine
0043+  9666             ;
0044+  9666             ; puts XOR grayscale sprite
0045+  9666             ; b=size of sprite
0046+  9666             ; l=yc
0047+  9666             ; a=xc
0048+  9666             ; ix holds pointer
0049+  9666             gsPutSprite:
0050+  9666             
0051+  9666 F5          	push af
0052+  9667 E5          	push hl
0053+  9668 C5          	push bc
0054+  9669             
0055+  9669 CD AD 91    	call	ionPutSprite
0056+  966C             
0057+  966C C1          	pop bc
0058+  966D E1          	pop hl
0059+  966E F1          	pop af
0060+  966F             
0061+  966F 5D          	ld	e,l
0062+  9670 26 00       	ld	h,$00
0063+  9672 54          	ld	d,h
0064+  9673 19          	add	hl,de
0065+  9674 19          	add	hl,de
0066+  9675 29          	add	hl,hl
0067+  9676 29          	add	hl,hl
0068+  9677 5F          	ld	e,a
0069+  9678 E6 07       	and	$07
0070+  967A 4F          	ld	c,a
0071+  967B CB 3B       	srl	e
0072+  967D CB 3B       	srl	e
0073+  967F CB 3B       	srl	e
0074+  9681 19          	add	hl,de
0075+  9682 11 65 82    	ld	de,gbuf2
0076+  9685 19          	add	hl,de
0077+  9686             gsPutSpriteLoop1:
0078+  9686 DD 56 00    pgxs_sl1:	ld	d,(ix)
0079+  9689 1E 00       	ld	e,$00
0080+  968B 79          	ld	a,c
0081+  968C B7          	or	a
0082+  968D 28 07       	jr	z,gsPutSpriteSkip1
0083+  968F             gsPutSpriteLoop2:
0084+  968F CB 3A       	srl	d
0085+  9691 CB 1B       	rr	e
0086+  9693 3D          	dec	a
0087+  9694 20 F9       	jr	nz,gsPutSpriteLoop2
0088+  9696             gsPutSpriteSkip1:
0089+  9696 7E          	ld	a,(hl)
0090+  9697 AA          	xor	d
0091+  9698 77          	ld	(hl),a
0092+  9699 23          	inc	hl
0093+  969A 7E          	ld	a,(hl)
0094+  969B AB          	xor	e
0095+  969C 77          	ld	(hl),a
0096+  969D 11 0B 00    	ld	de,$0B
0097+  96A0 19          	add	hl,de
0098+  96A1 DD 23       	inc	ix
0099+  96A3 10 E1       	djnz	gsPutSpriteLoop1
0100+  96A5             
0101+  96A5 C9          	ret
0102+  96A6             #endif
0103+  96A6             
0104+  96A6             #ifdef ALIGNEDSPRITE
0105+  96A6             ;==========================================================
0106+  96A6             ; gsAlignedSprite
0107+  96A6             ;==========================================================
0108+  96A6             ; puts 8x8 aligned sprite
0109+  96A6             ; a=x l=y ix=sprite
0110+  96A6             gsAlignedSprite:
0111+  96A6 26 00       	ld h,0
0112+  96A8 54          	ld d,h
0113+  96A9 5D          	ld e,l
0114+  96AA 19          	add hl,de
0115+  96AB 19          	add hl,de
0116+  96AC 29          	add hl,hl
0117+  96AD 29          	add hl,hl
0118+  96AE 5F          	ld e,a
0119+  96AF 19          	add hl,de
0120+  96B0 E5          	push hl
0121+  96B1 11 29 8E    	ld de,gbuf1
0122+  96B4 19          	add hl,de
0123+  96B5             	;now we got right spot in hl
0124+  96B5 11 0C 00    	ld de,12
0125+  96B8 06 08       	ld b,8
0126+  96BA             gsAlignedSprite_loopbuf1:
0127+  96BA DD 7E 00    	ld a,(ix)
0128+  96BD 77          	ld (hl),a
0129+  96BE 19          	add hl,de
0130+  96BF DD 23       	inc ix
0131+  96C1 10 F7       	djnz gsAlignedSprite_loopbuf1
0132+  96C3             
0133+  96C3 E1          	pop hl
0134+  96C4 11 65 82    	ld de,gbuf2
0135+  96C7 19          	add hl,de
0136+  96C8 11 0C 00    	ld de,12
0137+  96CB 06 08       	ld b,8
0138+  96CD             gsAlignedSprite_loopbuf2:
0139+  96CD DD 7E 00    	ld a,(ix)
0140+  96D0 77          	ld (hl),a
0141+  96D1 19          	add hl,de
0142+  96D2 DD 23       	inc ix
0143+  96D4 10 F7       	djnz gsAlignedSprite_loopbuf2
0144+  96D6 C9          	ret
0145+  96D7             #endif
0146+  96D7             
0147+  96D7             #IFDEF ALIGNEDMASKEDSPRITE
0148+  96D7             ;==========================================================
0149+  96D7             ; gsAlignedMaskedSprite
0150+  96D7             ;==========================================================
0151+  96D7             ; mask/draw 8x8 aligned sprite
0152+  96D7             ; a=number + 64*(HORIZFLIP) + 128*(VERTFLIP)
0153+  96D7             ; h=x l=y de=sprite table
0154+  96D7             ; output: everything destroyed, but ix=ix+8
0155+  96D7             gsAlignedMaskedSprite:
0156+  96D7 E5          	push hl
0157+  96D8 F5          	push af
0158+  96D9 E6 3F       	and %00111111
0159+  96DB             
0160+  96DB 26 00       	ld h,0 \ ld l,a
0160+  96DD 6F          
0161+  96DE 29          	add hl,hl
0162+  96DF 29          	add hl,hl
0163+  96E0 29          	add hl,hl
0164+  96E1 29          	add hl,hl
0165+  96E2 19          	add hl,de
0166+  96E3             	;database to temp
0167+  96E3 11 A8 97    	ld de,gsTempSprite
0168+  96E6 01 10 00    	ld bc,16
0169+  96E9 ED B0       	ldir
0170+  96EB             
0171+  96EB F1          	pop af
0172+  96EC CB 77       	bit 6,a \ call nz,gsFlipHoriz
0172+  96EE C4 47 97    
0173+  96F1 CB 7F       	bit 7,a \ call nz,gsFlipVert ;not working yet
0173+  96F3 C4 6B 97    
0174+  96F6 DD 21 A8 97 	ld ix,gsTempSprite
0175+  96FA E1          	pop hl
0176+  96FB 7C          	ld a,h
0177+  96FC             
0178+  96FC 26 00       	ld h,0
0179+  96FE 44          	ld b,h
0180+  96FF 4D          	ld c,l
0181+  9700 09          	add hl,bc
0182+  9701 09          	add hl,bc
0183+  9702 29          	add hl,hl
0184+  9703 29          	add hl,hl
0185+  9704 4F          	ld c,a
0186+  9705 09          	add hl,bc
0187+  9706 44          	ld b,h \ ld c,l
0187+  9707 4D          
0188+  9708             
0189+  9708 21 65 82    	ld hl,gbuf2
0190+  970B 09          	add hl,bc	;de=layer2
0191+  970C EB          	ex de,hl
0192+  970D 21 29 8E    	ld hl,gbuf1
0193+  9710 09          	add hl,bc	;hl=layer1
0194+  9711             
0195+  9711 06 08       	ld b,8
0196+  9713             gsMaskedSprite_loop:
0197+  9713 C5          	push bc
0198+  9714             
0199+  9714 DD E5       	push ix
0200+  9716             
0201+  9716 DD 7E 00    	ld a,(ix) ;get spr1
0202+  9719 01 08 00    	ld bc,8
0203+  971C DD 09       	add ix,bc
0204+  971E 4F          	ld c,a	  ;save spr1
0205+  971F             	
0206+  971F DD 7E 00    	ld a,(ix) ;get spr2
0207+  9722 F5          	push af
0208+  9723 2F          	cpl	  ;flip spr2
0209+  9724 A1          	and c	  ;mask ready
0210+  9725 47          	ld b,a	  ;save
0211+  9726             
0212+  9726 2F          	cpl	  ;flip mask
0213+  9727 A1          	and c	  ;mask spr1
0214+  9728 4F          	ld c,a	  ;save spr1
0215+  9729             
0216+  9729 78          	ld a,b
0217+  972A A6          	and (hl)  ;mask layer1
0218+  972B B1          	or c	  ;draw sprite
0219+  972C 77          	ld (hl),a ;save
0220+  972D             
0221+  972D 78          	ld a,b
0222+  972E 2F          	cpl
0223+  972F 47          	ld b,a
0224+  9730             
0225+  9730 F1          	pop af	  ;get spr2
0226+  9731 A0          	and b	  ;mask spr2
0227+  9732 4F          	ld c,a
0228+  9733             	
0229+  9733 78          	ld a,b	  ;flip mask
0230+  9734 2F          	cpl
0231+  9735             
0232+  9735 EB          	ex de,hl  ;ex layer1/2
0233+  9736 A6          	and (hl)  ;mask layer2
0234+  9737 B1          	or c	  ;draw sprite
0235+  9738 77          	ld (hl),a ;save
0236+  9739             
0237+  9739 01 0C 00    	ld bc,12
0238+  973C 09          	add hl,bc
0239+  973D EB          	ex de,hl  ;ex back
0240+  973E 09          	add hl,bc
0241+  973F             
0242+  973F DD E1       	pop ix
0243+  9741 DD 23       	inc ix
0244+  9743             
0245+  9743 C1          	pop bc
0246+  9744 10 CD       	djnz gsMaskedSprite_loop
0247+  9746 C9          	ret
0248+  9747             
0249+  9747             ;=== horizontal sprite flip
0250+  9747             gsFlipHoriz:
0251+  9747 F5          	push af
0252+  9748 E5          	push hl
0253+  9749 11 AF 97    	ld de,gsTempSprite+7
0254+  974C 21 B8 97    	ld hl,gsTempSprite2
0255+  974F 06 08       	ld b,8
0256+  9751             gsFlipHoriz_loop:
0257+  9751 1A          	ld a,(de)
0258+  9752 77          	ld (hl),a
0259+  9753 1B          	dec de
0260+  9754 23          	inc hl
0261+  9755 10 FA       	djnz gsFlipHoriz_loop
0262+  9757 01 10 00    	ld bc,16
0263+  975A EB          	ex de,hl
0264+  975B 09          	add hl,bc
0265+  975C EB          	ex de,hl
0266+  975D 06 08       	ld b,8
0267+  975F             gsFlipHoriz_loop2:
0268+  975F 1A          	ld a,(de)
0269+  9760 77          	ld (hl),a
0270+  9761 1B          	dec de
0271+  9762 23          	inc hl
0272+  9763 10 FA       	djnz gsFlipHoriz_loop2
0273+  9765 CD 9C 97    	call gsTemp2To1
0274+  9768 E1          	pop hl
0275+  9769 F1          	pop af
0276+  976A C9          	ret
0277+  976B             
0278+  976B             ;=== vertical sprite flip
0279+  976B             gsFlipVert:
0280+  976B F5          	push af
0281+  976C E5          	push hl
0282+  976D 21 A8 97    	ld hl,gsTempSprite
0283+  9770 11 B8 97    	ld de,gsTempSprite2
0284+  9773 06 10       	ld b,16
0285+  9775             gsFlipVert_loop:
0286+  9775 7E          	ld a,(hl)
0287+  9776 0E 00       	ld c,0
0288+  9778 07          	rlca
0289+  9779 CB 19       	rr c
0290+  977B 07          	rlca
0291+  977C CB 19       	rr c
0292+  977E 07          	rlca
0293+  977F CB 19       	rr c
0294+  9781 07          	rlca
0295+  9782 CB 19       	rr c
0296+  9784 07          	rlca
0297+  9785 CB 19       	rr c
0298+  9787 07          	rlca
0299+  9788 CB 19       	rr c
0300+  978A 07          	rlca
0301+  978B CB 19       	rr c
0302+  978D 07          	rlca
0303+  978E CB 19       	rr c
0304+  9790 79          	ld a,c
0305+  9791 12          	ld (de),a
0306+  9792 23          	inc hl
0307+  9793 13          	inc de
0308+  9794 10 DF       	djnz gsFlipVert_loop
0309+  9796 CD 9C 97    	call gsTemp2To1
0310+  9799 E1          	pop hl
0311+  979A F1          	pop af
0312+  979B C9          	ret
0313+  979C             
0314+  979C             gsTemp2To1:
0315+  979C 21 B8 97    	ld hl,gsTempSprite2
0316+  979F 11 A8 97    	ld de,gsTempSprite
0317+  97A2 01 10 00    	ld bc,16
0318+  97A5 ED B0       	ldir
0319+  97A7 C9          	ret
0320+  97A8             
0321+  97A8             gsTempSprite:
0322+  97A8 000000000000	.db 0,0,0,0,0,0,0,0
0322+  97AE 0000
0323+  97B0 000000000000	.db 0,0,0,0,0,0,0,0
0323+  97B6 0000
0324+  97B8             gsTempSprite2:
0325+  97B8 000000000000	.db 0,0,0,0,0,0,0,0
0325+  97BE 0000
0326+  97C0 000000000000	.db 0,0,0,0,0,0,0,0
0326+  97C6 0000
0327+  97C8             
0328+  97C8             
0329+  97C8             #ENDIF
0330+  97C8             
0331+  97C8             
0332+  97C8             #ifdef LARGESPRITE
0333+  97C8             ;==========================================================
0334+  97C8             ; gsLargeSprite
0335+  97C8             ;==========================================================
0336+  97C8             ;=== gsLargeSprite 1.0 by Durk Kingma
0337+  97C8             ;thanks to Joe Wingbermuehle for his ionPutSprite routine
0338+  97C8             ;
0339+  97C8             ; puts large Grayscale sprite
0340+  97C8             ; b=size of sprite
0341+  97C8             ; l=yc
0342+  97C8             ; a=xc
0343+  97C8             ; ix holds pointer
0344+  97C8             ;-----> Draw a picture
0345+  97C8             ;Input:	ix->sprite
0346+  97C8             ;	a=x
0347+  97C8             ;	l=y
0348+  97C8             ;	b=height	(in pixels)
0349+  97C8             ;	c=width		(in bytes, e.g. 2 would be 16)
0350+  97C8             ;Output: nothing
0351+  97C8             ; All registers are destroyed except bc', de', hl'
0352+  97C8             gsLargeSprite:
0353+  97C8             
0354+  97C8 F5          	push af
0355+  97C9 E5          	push hl
0356+  97CA C5          	push bc
0357+  97CB             
0358+  97CB CD B0 91    	call ionLargeSprite
0359+  97CE             
0360+  97CE C1          	pop bc
0361+  97CF E1          	pop hl
0362+  97D0 F1          	pop af
0363+  97D1             
0364+  97D1 F3          	di
0365+  97D2 08          	ex	af,af'
0366+  97D3 79          	ld	a,c
0367+  97D4 F5          	push	af
0368+  97D5 08          	ex	af,af'
0369+  97D6 5D          	ld	e,l
0370+  97D7 26 00       	ld	h,$00
0371+  97D9 54          	ld	d,h
0372+  97DA 19          	add	hl,de ;x12
0373+  97DB 19          	add	hl,de ;
0374+  97DC 29          	add	hl,hl ;
0375+  97DD 29          	add	hl,hl ;
0376+  97DE 5F          	ld	e,a
0377+  97DF E6 07       	and	$07
0378+  97E1 4F          	ld	c,a
0379+  97E2 CB 3B       	srl	e
0380+  97E4 CB 3B       	srl	e
0381+  97E6 CB 3B       	srl	e
0382+  97E8 19          	add	hl,de
0383+  97E9 11 65 82    	ld	de,gbuf2
0384+  97EC 19          	add	hl,de
0385+  97ED             gsLargeSpriteLoop1:
0386+  97ED E5          	push	hl
0387+  97EE             gsLargeSpriteLoop2:
0388+  97EE DD 56 00    	ld	d,(ix)
0389+  97F1 1E 00       	ld	e,$00
0390+  97F3 79          	ld	a,c
0391+  97F4 B7          	or	a
0392+  97F5 28 07       	jr	z,gsLargeSpriteSkip1
0393+  97F7             gsLargeSpriteLoop3:
0394+  97F7 CB 3A       	srl	d
0395+  97F9 CB 1B       	rr	e
0396+  97FB 3D          	dec	a
0397+  97FC 20 F9       	jr	nz,gsLargeSpriteLoop3
0398+  97FE             gsLargeSpriteSkip1:
0399+  97FE 7E          	ld	a,(hl)
0400+  97FF AA          	xor	d
0401+  9800 77          	ld	(hl),a
0402+  9801 23          	inc	hl
0403+  9802 7E          	ld	a,(hl)
0404+  9803 AB          	xor	e
0405+  9804 77          	ld	(hl),a
0406+  9805 DD 23       	inc	ix
0407+  9807 08          	ex	af,af'
0408+  9808 3D          	dec	a
0409+  9809 F5          	push	af
0410+  980A 08          	ex	af,af'
0411+  980B F1          	pop	af
0412+  980C 20 E0       	jr	nz,gsLargeSpriteLoop2
0413+  980E E1          	pop	hl
0414+  980F F1          	pop	af
0415+  9810 F5          	push	af
0416+  9811 08          	ex	af,af'
0417+  9812 11 0C 00    	ld	de,$0C
0418+  9815 19          	add	hl,de
0419+  9816 10 D5       	djnz	gsLargeSpriteLoop1
0420+  9818 F1          	pop	af
0421+  9819             
0422+  9819             	
0423+  9819 3A 65 96    	ld a,(interfrequency) \ out ($04),a
0423+  981C D3 04       
0424+  981E 3E 08       	ld a,$08 \ out ($03),a
0424+  9820 D3 03       
0425+  9822 3E 0A       	ld a,$0A \ out ($03),a
0425+  9824 D3 03       
0426+  9826 FB          	ei
0427+  9827 C9          	ret
0428+  9828             #endif
0429+  9828             
0430+  9828             ;==========================================================
0431+  9828             ; gsClearbuffer
0432+  9828             ;==========================================================
0433+  9828             gsClearbuffer:
0434+  9828 21 29 8E    	ld hl,gbuf1
0435+  982B 11 2A 8E    	ld de,gbuf1+1
0436+  982E 01 FF 02    	ld bc,767
0437+  9831 36 00       	ld (hl),0
0438+  9833 ED B0       	ldir
0439+  9835 21 65 82    	ld hl,gbuf2
0440+  9838 11 66 82    	ld de,gbuf2+1
0441+  983B 01 FF 02    	ld bc,767
0442+  983E 36 00       	ld (hl),0
0443+  9840 ED B0       	ldir
0444+  9842 C9          	ret
0445+  9843             
0446+  9843             ;==========================================================
0447+  9843             ; gsCopyBuffer
0448+  9843             ;==========================================================
0449+  9843             gsCopybuffer:
0450+  9843             #ifndef NODOUBLEBUFFER
0451+  9843 21 29 8E    	ld hl,gbuf1
0452+  9846 11 E7 9A    	ld de,gActivebuf1
0453+  9849 01 00 03    	ld bc,768
0454+  984C ED B0       	ldir
0455+  984E 21 65 82    	ld hl,gbuf2
0456+  9851 11 E7 9D    	ld de,gActivebuf2
0457+  9854 01 00 03    	ld bc,768
0458+  9857 ED B0       	ldir
0459+  9859             #endif
0460+  9859 C9          	ret
0461+  985A             
0462+  985A             ;==========================================================
0463+  985A             ; gsEnable
0464+  985A             ;==========================================================
0465+  985A             gsEnable:
0466+  985A             #IFDEF TI83
0467+  985A 21 00 86    	ld hl,8600h
0468+  985D 11 01 86    	ld de,8600h+1
0469+  9860 01 00 01    	ld bc,256
0470+  9863 36 87       	ld (hl),87h
0471+  9865 ED B0       	ldir
0472+  9867             
0473+  9867 21 90 98    	ld hl,interrupt_start
0474+  986A 11 87 87    	ld de,8787h
0475+  986D 01 03 00    	ld bc,INTERRUPT_end-interrupt_start
0476+  9870 ED B0       	ldir
0477+  9872 3E 86       	ld a,86h
0478+  9874 ED 47       	ld i,a
0479+  9876             #ENDIF
0480+  9876~            #IFDEF TI83P
0481+  9876~            	ld hl,8700h
0482+  9876~            	ld de,8700h+1
0483+  9876~            	ld bc,256
0484+  9876~            	ld (hl),86h
0485+  9876~            	ldir
0486+  9876~            
0487+  9876~            	ld hl,interrupt_start
0488+  9876~            	ld de,8686h
0489+  9876~            	ld bc,INTERRUPT_end-interrupt_start
0490+  9876~            	ldir
0491+  9876~            	ld a,87h
0492+  9876~            	ld i,a
0493+  9876             #ENDIF
0494+  9876             
0495+  9876 ED 5E       	im 2
0496+  9878             
0497+  9878 3A 65 96    	ld a,(interfrequency) \ out ($04),a
0497+  987B D3 04       
0498+  987D 3E 08       	ld a,$08 \ out ($03),a
0498+  987F D3 03       
0499+  9881 3E 0A       	ld a,$0A \ out ($03),a
0499+  9883 D3 03       
0500+  9885 FB          	ei
0501+  9886             
0502+  9886 C9          	ret
0503+  9887             
0504+  9887             ;==========================================================
0505+  9887             ; gsDisable
0506+  9887             ;==========================================================
0507+  9887             gsDisable:
0508+  9887 F3          	di
0509+  9888 ED 56       	im 1
0510+  988A 3E 06       	ld a,6 \ out ($04),a
0510+  988C D3 04       
0511+  988E FB          	ei
0512+  988F C9          	ret
0513+  9890             
0514+  9890             ;==========================================================
0515+  9890             ; interrupt
0516+  9890             ;==========================================================
0517+  9890             interrupt_start:
0518+  9890~            #ifdef 3LEVELGRAY
0519+  9890~            	jp draw3levelGrayscale
0520+  9890             #else
0521+  9890 C3 93 98    	jp draw4levelGrayscale
0522+  9893             #endif
0523+  9893             interrupt_end:
0524+  9893             
0525+  9893~            #ifdef 3LEVELGRAY
0526+  9893~            ;==========================================================
0527+  9893~            ; draw3levelGrayScale INTERRUPT
0528+  9893~            ;==========================================================
0529+  9893~            draw3levelGrayscale:
0530+  9893~            
0531+  9893~            	push af \ push bc \ push de \ push hl
0531+  9893~            	push af \ push bc \ push de \ push hl
0531+  9893~            	push af \ push bc \ push de \ push hl
0531+  9893~            	push af \ push bc \ push de \ push hl
0532+  9893~            	
0533+  9893~            grayFastCopy:
0534+  9893~            	ld	a,$80
0535+  9893~            	out	($10),a
0536+  9893~            
0537+  9893~            
0538+  9893~            	exx
0539+  9893~            	ld	hl,gActivebuf2-12-(-(12*64)+1)
0540+  9893~            	ld	a,(grayvar)
0541+  9893~            	ld	b,a
0542+  9893~            	cpl
0543+  9893~            	ld	c,a
0544+  9893~            	exx
0545+  9893~            
0546+  9893~            	ld	hl,gActivebuf1-12-(-(12*64)+1)
0547+  9893~            	ld	a,$20
0548+  9893~            	ld	c,a
0549+  9893~            
0550+  9893~            grayFastCopyAgain:
0551+  9893~            
0552+  9893~            
0553+  9893~            	ld	b,16
0554+  9893~            
0555+  9893~            	;=== x-loop
0556+  9893~            	inc	c
0557+  9893~            	ld	de,-(12*64)+1
0558+  9893~            	out	($10),a
0559+  9893~            	add	hl,de
0560+  9893~            	ld	de,12
0561+  9893~            
0562+  9893~            	exx	
0563+  9893~            	ld	de,-(12*64)+1
0564+  9893~            	add	hl,de
0565+  9893~            	ld	de,12
0566+  9893~            	exx
0567+  9893~            
0568+  9893~            grayFastCopyLoop:
0569+  9893~            	;===y-loop
0570+  9893~            	exx
0571+  9893~            	add	hl,de
0572+  9893~            	ld	a,(hl)
0573+  9893~            	and	b
0574+  9893~            	exx
0575+  9893~            	add	hl,de
0576+  9893~            	or	(hl)
0577+  9893~            	out	($11),a
0578+  9893~            
0579+  9893~            	inc bc ; 6 waste
0580+  9893~            
0581+  9893~            	exx
0582+  9893~            	add	hl,de
0583+  9893~            	ld	a,(hl)
0584+  9893~            	and	c
0585+  9893~            	exx
0586+  9893~            	add	hl,de
0587+  9893~            	or	(hl)
0588+  9893~            	out	($11),a
0589+  9893~            
0590+  9893~            	dec bc ; 6 waste
0591+  9893~            
0592+  9893~            	exx
0593+  9893~            	add	hl,de
0594+  9893~            	ld	a,(hl)
0595+  9893~            	and	b
0596+  9893~            	exx
0597+  9893~            	add	hl,de
0598+  9893~            	or	(hl)
0599+  9893~            	out	($11),a
0600+  9893~            
0601+  9893~            	ld a,3 ;waste
0602+  9893~            
0603+  9893~            	exx
0604+  9893~            	add	hl,de
0605+  9893~            	ld	a,(hl)
0606+  9893~            	and	c
0607+  9893~            	exx
0608+  9893~            	add	hl,de
0609+  9893~            	or	(hl)
0610+  9893~            	out	($11),a
0611+  9893~            
0612+  9893~            	djnz	grayFastCopyLoop
0613+  9893~            
0614+  9893~            
0615+  9893~            	ld	a,c
0616+  9893~            	cp	$2B+1
0617+  9893~            	jr	nz,grayFastCopyAgain
0618+  9893~            
0619+  9893~            	ld a,(grayvar)
0620+  9893~            	cpl
0621+  9893~            	ld (grayvar),a
0622+  9893~            	
0623+  9893~            	ld a,(interfrequency) \ out ($04),a
0623+  9893~            	ld a,(interfrequency) \ out ($04),a
0624+  9893~            	ld a,$08 \ out ($03),a
0624+  9893~            	ld a,$08 \ out ($03),a
0625+  9893~            	ld a,$0A \ out ($03),a
0625+  9893~            	ld a,$0A \ out ($03),a
0626+  9893~            
0627+  9893~            	pop hl \ pop de \ pop bc \ pop af
0627+  9893~            	pop hl \ pop de \ pop bc \ pop af
0627+  9893~            	pop hl \ pop de \ pop bc \ pop af
0627+  9893~            	pop hl \ pop de \ pop bc \ pop af
0628+  9893~            
0629+  9893~            	ei
0630+  9893~            	ret
0631+  9893~            
0632+  9893~            grayvar:
0633+  9893~            	.db %10101010
0634+  9893             #ENDIF	
0635+  9893             
0636+  9893             ;==========================================================
0637+  9893             ; draw4levelGrayScale INTERRUPT
0638+  9893             ;==========================================================
0639+  9893             draw4levelGrayscale:
0640+  9893             
0641+  9893~            #ifdef BETTERCOLOR
0642+  9893~            
0643+  9893~            	push af \ push bc \ push de \ push hl
0643+  9893~            	push af \ push bc \ push de \ push hl
0643+  9893~            	push af \ push bc \ push de \ push hl
0643+  9893~            	push af \ push bc \ push de \ push hl
0644+  9893~            	
0645+  9893~            Gray4afastCopy:
0646+  9893~            	ld	a,$80
0647+  9893~            	out	($10),a
0648+  9893~            
0649+  9893~            	exx
0650+  9893~            	ld	hl,gActivebuf2-12-(-(12*64)+1)
0651+  9893~            	exx
0652+  9893~            
0653+  9893~            	ld	hl,gActivebuf1-12-(-(12*64)+1)
0654+  9893~            	ld	a,$20
0655+  9893~            	ld	c,a
0656+  9893~            
0657+  9893~            Gray4afastCopyAgain:
0658+  9893~            
0659+  9893~            	ld	b,16
0660+  9893~            
0661+  9893~            	;=== x-loop
0662+  9893~            	inc	c
0663+  9893~            	ld	de,-(12*64)+1
0664+  9893~            	out	($10),a
0665+  9893~            	add	hl,de
0666+  9893~            	ld	de,12
0667+  9893~            
0668+  9893~            	exx	
0669+  9893~            	ld	de,-(12*64)+1
0670+  9893~            	add	hl,de
0671+  9893~            	ld	de,12
0672+  9893~            	exx
0673+  9893~            
0674+  9893~            Gray4afastCopyLoop:
0675+  9893~            	;===y-loop
0676+  9893~            	push bc
0677+  9893~            
0678+  9893~            ;-------------------------
0679+  9893~            	exx
0680+  9893~            	add	hl,de
0681+  9893~            	ld	a,(hl)
0682+  9893~            Gray4afc_moda1:
0683+  9893~            	and	%01011010
0684+  9893~            	exx
0685+  9893~            	add	hl,de
0686+  9893~            	ld	b,a
0687+  9893~            	ld	a,(hl)
0688+  9893~            Gray4afc_moda2:
0689+  9893~            	and	%10100101
0690+  9893~            	or	b
0691+  9893~            	out	($11),a
0692+  9893~            ;-------------------------
0693+  9893~            	exx
0694+  9893~            	add	hl,de
0695+  9893~            	ld	a,(hl)
0696+  9893~            Gray4afc_modb1:
0697+  9893~            	and	%01011010
0698+  9893~            	exx
0699+  9893~            	add	hl,de
0700+  9893~            	ld	b,a
0701+  9893~            	ld	a,(hl)
0702+  9893~            Gray4afc_modb2:
0703+  9893~            	and	%10100101
0704+  9893~            	or	b
0705+  9893~            	out	($11),a
0706+  9893~            ;-------------------------
0707+  9893~            	exx
0708+  9893~            	add	hl,de
0709+  9893~            	ld	a,(hl)
0710+  9893~            Gray4afc_modc1:
0711+  9893~            	and	%10101101
0712+  9893~            	exx
0713+  9893~            	add	hl,de
0714+  9893~            	ld	b,a
0715+  9893~            	ld	a,(hl)
0716+  9893~            Gray4afc_modc2:
0717+  9893~            	and	%01010010
0718+  9893~            	or	b
0719+  9893~            	out	($11),a
0720+  9893~            ;-------------------------
0721+  9893~            	exx
0722+  9893~            	add	hl,de
0723+  9893~            	ld	a,(hl)
0724+  9893~            Gray4afc_modd1:
0725+  9893~            	and	%11010110
0726+  9893~            	exx
0727+  9893~            	add	hl,de
0728+  9893~            	ld	b,a
0729+  9893~            	ld	a,(hl)
0730+  9893~            Gray4afc_modd2:
0731+  9893~            	and	%00101001
0732+  9893~            	or	b
0733+  9893~            	out	($11),a
0734+  9893~            ;-------------------------
0735+  9893~            
0736+  9893~            	pop bc
0737+  9893~            	djnz	Gray4afastCopyLoop
0738+  9893~            	;===end y-loop
0739+  9893~            
0740+  9893~            	ld	a,c
0741+  9893~            	cp	$2B+1
0742+  9893~            	jp	nz,Gray4afastCopyAgain
0743+  9893~            	;===end x-loop
0744+  9893~            
0745+  9893~            	ld a,(Gray4agrayint)
0746+  9893~            	inc a
0747+  9893~            	cp 4 \ jr nz,Gray4afc_grayintinc
0747+  9893~            	cp 4 \ jr nz,Gray4afc_grayintinc
0748+  9893~            	xor a
0749+  9893~            Gray4afc_grayintinc:
0750+  9893~            	ld (Gray4agrayint),a
0751+  9893~            
0752+  9893~            
0753+  9893~            	add a,a
0754+  9893~            	ld hl,Gray4afc_masktable
0755+  9893~            	ld b,0 \ ld c,a
0755+  9893~            	ld b,0 \ ld c,a
0756+  9893~            	add hl,bc
0757+  9893~            	;first
0758+  9893~            	ld a,(hl)
0759+  9893~            	ld (Gray4afc_moda1+1),a
0760+  9893~            	inc hl
0761+  9893~            	ld a,(hl)
0762+  9893~            	ld (Gray4afc_moda2+1),a
0763+  9893~            	inc hl
0764+  9893~            	ld a,(hl)
0765+  9893~            	ld (Gray4afc_modb1+1),a
0766+  9893~            	inc hl
0767+  9893~            	ld a,(hl)
0768+  9893~            	ld (Gray4afc_modb2+1),a
0769+  9893~            	inc hl
0770+  9893~            
0771+  9893~            	ld a,(hl)
0772+  9893~            	ld (Gray4afc_modc1+1),a
0773+  9893~            	inc hl
0774+  9893~            	ld a,(hl)
0775+  9893~            	ld (Gray4afc_modc2+1),a
0776+  9893~            	inc hl
0777+  9893~            	ld a,(hl)
0778+  9893~            	ld (Gray4afc_modd1+1),a
0779+  9893~            	inc hl
0780+  9893~            	ld a,(hl)
0781+  9893~            	ld (Gray4afc_modd2+1),a
0782+  9893~            
0783+  9893~            
0784+  9893~            
0785+  9893~            	ld a,(interfrequency) \ out ($04),a
0785+  9893~            	ld a,(interfrequency) \ out ($04),a
0786+  9893~            	ld a,$08 \ out ($03),a
0786+  9893~            	ld a,$08 \ out ($03),a
0787+  9893~            	ld a,$0A \ out ($03),a
0787+  9893~            	ld a,$0A \ out ($03),a
0788+  9893~            
0789+  9893~            	pop hl \ pop de \ pop bc \ pop af
0789+  9893~            	pop hl \ pop de \ pop bc \ pop af
0789+  9893~            	pop hl \ pop de \ pop bc \ pop af
0789+  9893~            	pop hl \ pop de \ pop bc \ pop af
0790+  9893~            
0791+  9893~            	ei
0792+  9893~            	ret
0793+  9893~            
0794+  9893~            Gray4agrayint:
0795+  9893~            	.db 0
0796+  9893~            Gray4afc_masktable:
0797+  9893~            	.db %01000100, %10101010, %00100010, %01010101
0798+  9893~            	.db %00010001, %10101010, %10001000, %01010101
0799+  9893~            
0800+  9893~            	.db %01000100, %10101010, %00100010, %01010101
0801+  9893~            	.db %00010001, %10101010, %10001000, %01010101
0802+  9893~            
0803+  9893~            
0804+  9893             #endif
0805+  9893             
0806+  9893             
0807+  9893             #ifndef VTI
0808+  9893             
0809+  9893 F5          	push af \ push bc \ push de \ push hl
0809+  9894 C5          
0809+  9895 D5          
0809+  9896 E5          
0810+  9897             	
0811+  9897             Gray4fastCopy:
0812+  9897 3E 80       	ld	a,$80
0813+  9899 D3 10       	out	($10),a
0814+  989B             
0815+  989B D9          	exx
0816+  989C 21 DA A0    	ld	hl,gActivebuf2-12-(-(12*64)+1)
0817+  989F D9          	exx
0818+  98A0             
0819+  98A0 21 DA 9D    	ld	hl,gActivebuf1-12-(-(12*64)+1)
0820+  98A3 3E 20       	ld	a,$20
0821+  98A5 4F          	ld	c,a
0822+  98A6             
0823+  98A6             Gray4fastCopyAgain:
0824+  98A6             
0825+  98A6 06 15       	ld	b,21
0826+  98A8             
0827+  98A8             	;=== x-loop
0828+  98A8 0C          	inc	c
0829+  98A9 11 01 FD    	ld	de,-(12*64)+1
0830+  98AC D3 10       	out	($10),a
0831+  98AE 19          	add	hl,de
0832+  98AF 11 0C 00    	ld	de,12
0833+  98B2             
0834+  98B2 D9          	exx	
0835+  98B3 11 01 FD    	ld	de,-(12*64)+1
0836+  98B6 19          	add	hl,de
0837+  98B7 11 0C 00    	ld	de,12
0838+  98BA D9          	exx
0839+  98BB             
0840+  98BB             Gray4fastCopyLoop:
0841+  98BB             	;===y-loop
0842+  98BB C5          	push bc
0843+  98BC             
0844+  98BC             ;-------------------------
0845+  98BC D9          	exx
0846+  98BD 19          	add	hl,de
0847+  98BE 7E          	ld	a,(hl)
0848+  98BF             Gray4fc_moda1:
0849+  98BF E6 92       	and	%10010010
0850+  98C1 D9          	exx
0851+  98C2 19          	add	hl,de
0852+  98C3 47          	ld	b,a
0853+  98C4 7E          	ld	a,(hl)
0854+  98C5             Gray4fc_moda2:
0855+  98C5 E6 6D       	and	%01101101
0856+  98C7 B0          	or	b
0857+  98C8 D3 11       	out	($11),a
0858+  98CA             ;-------------------------
0859+  98CA D9          	exx
0860+  98CB 19          	add	hl,de
0861+  98CC 7E          	ld	a,(hl)
0862+  98CD             Gray4fc_modb1:
0863+  98CD E6 49       	and	%01001001
0864+  98CF D9          	exx
0865+  98D0 19          	add	hl,de
0866+  98D1 47          	ld	b,a
0867+  98D2 7E          	ld	a,(hl)
0868+  98D3             Gray4fc_modb2:
0869+  98D3 E6 B6       	and	%10110110
0870+  98D5 B0          	or	b
0871+  98D6 D3 11       	out	($11),a
0872+  98D8             ;-------------------------
0873+  98D8 D9          	exx
0874+  98D9 19          	add	hl,de
0875+  98DA 7E          	ld	a,(hl)
0876+  98DB             Gray4fc_modc1:
0877+  98DB E6 24       	and	%00100100
0878+  98DD D9          	exx
0879+  98DE 19          	add	hl,de
0880+  98DF 47          	ld	b,a
0881+  98E0 7E          	ld	a,(hl)
0882+  98E1             Gray4fc_modc2:
0883+  98E1 E6 DB       	and	%11011011
0884+  98E3 B0          	or	b
0885+  98E4 D3 11       	out	($11),a
0886+  98E6             ;----------------
0887+  98E6             
0888+  98E6 C1          	pop bc
0889+  98E7 10 D2       	djnz	Gray4fastCopyLoop
0890+  98E9             	;===end y-loop
0891+  98E9             
0892+  98E9 C5          	push bc
0893+  98EA D9          	exx
0894+  98EB 19          	add	hl,de
0895+  98EC 7E          	ld	a,(hl)
0896+  98ED             Gray4fc_modd1:
0897+  98ED E6 92       	and	%10010010
0898+  98EF D9          	exx
0899+  98F0 19          	add	hl,de
0900+  98F1 47          	ld	b,a
0901+  98F2 7E          	ld	a,(hl)
0902+  98F3             Gray4fc_modd2:
0903+  98F3 E6 6D       	and	%01101101
0904+  98F5 B0          	or	b
0905+  98F6 D3 11       	out	($11),a
0906+  98F8 C1          	pop bc
0907+  98F9             
0908+  98F9 79          	ld	a,c
0909+  98FA FE 2C       	cp	$2B+1
0910+  98FC 20 A8       	jr	nz,Gray4fastCopyAgain
0911+  98FE             	;===end x-loop
0912+  98FE             
0913+  98FE 3A 44 99    	ld a,(Gray4grayint)
0914+  9901 3C          	inc a
0915+  9902 FE 03       	cp 3 \ jr nz,Gray4fc_grayintinc
0915+  9904 20 01       
0916+  9906 AF          	xor a
0917+  9907             Gray4fc_grayintinc:
0918+  9907 32 44 99    	ld (Gray4grayint),a
0919+  990A 21 45 99    	ld hl,Gray4fc_masktable
0920+  990D 06 00       	ld b,0 \ ld c,a
0920+  990F 4F          
0921+  9910 09          	add hl,bc
0922+  9911             
0923+  9911             	;first
0924+  9911 7E          	ld a,(hl)
0925+  9912 32 C0 98    	ld (Gray4fc_moda1+1),a
0926+  9915 32 EE 98    	ld (Gray4fc_modd1+1),a
0927+  9918 2F          	cpl
0928+  9919 32 C6 98    	ld (Gray4fc_moda2+1),a
0929+  991C 32 F4 98    	ld (Gray4fc_modd2+1),a
0930+  991F 23          	inc hl
0931+  9920             
0932+  9920             	;second
0933+  9920 7E          	ld a,(hl)
0934+  9921 32 CE 98    	ld (Gray4fc_modb1+1),a
0935+  9924 2F          	cpl
0936+  9925 32 D4 98    	ld (Gray4fc_modb2+1),a
0937+  9928 23          	inc hl
0938+  9929             
0939+  9929             	;third
0940+  9929 7E          	ld a,(hl)
0941+  992A 32 DC 98    	ld (Gray4fc_modc1+1),a
0942+  992D 2F          	cpl
0943+  992E 32 E2 98    	ld (Gray4fc_modc2+1),a
0944+  9931             		
0945+  9931 3A 65 96    	ld a,(interfrequency) \ out ($04),a
0945+  9934 D3 04       
0946+  9936 3E 08       	ld a,$08 \ out ($03),a
0946+  9938 D3 03       
0947+  993A 3E 0A       	ld a,$0A \ out ($03),a
0947+  993C D3 03       
0948+  993E             
0949+  993E E1          	pop hl \ pop de \ pop bc \ pop af
0949+  993F D1          
0949+  9940 C1          
0949+  9941 F1          
0950+  9942             
0951+  9942 FB          	ei
0952+  9943 C9          	ret
0953+  9944             
0954+  9944             Gray4grayint:
0955+  9944 00          	.db 0
0956+  9945             Gray4fc_masktable:
0957+  9945 9249249249  	.db %10010010, %01001001, %00100100, %10010010, %01001001
0958+  994A             
0959+  994A~            #else
0960+  994A~            
0961+  994A~            ;==========================================================
0962+  994A~            ; SPECIAL VTI GRAYSCALE
0963+  994A~            ;==========================================================
0964+  994A~            
0965+  994A~            	push af \ push bc \ push de \ push hl
0965+  994A~            	push af \ push bc \ push de \ push hl
0965+  994A~            	push af \ push bc \ push de \ push hl
0965+  994A~            	push af \ push bc \ push de \ push hl
0966+  994A~            
0967+  994A~            vtifastCopy:
0968+  994A~            	di
0969+  994A~            	ld	a,$80				; 7
0970+  994A~            	out	($10),a				; 11
0971+  994A~            	ld a,(vtigrayint)
0972+  994A~            	or a \ jr z,vtiBuf2
0972+  994A~            	or a \ jr z,vtiBuf2
0973+  994A~            vtiBuf1:
0974+  994A~            	ld	hl,gActivebuf1-12-(-(12*64)+1)	
0975+  994A~            	jr vtia
0976+  994A~            vtiBuf2:
0977+  994A~            	ld	hl,gActivebuf2-12-(-(12*64)+1)	
0978+  994A~            vtia:
0979+  994A~            
0980+  994A~            	ld	a,$20				; 7
0981+  994A~            	ld	c,a				; 4
0982+  994A~            vtifastCopyAgain:
0983+  994A~            	ld	b,64				; 7
0984+  994A~            	inc	c				; 4
0985+  994A~            	ld	de,-(12*64)+1			; 10
0986+  994A~            	out	($10),a				; 11
0987+  994A~            	add	hl,de				; 11
0988+  994A~            	ld	de,12				; 10
0989+  994A~            vtifastCopyLoop:
0990+  994A~            	add	hl,de				; 11
0991+  994A~            	inc hl
0992+  994A~            	dec hl					; 6
0993+  994A~            	ld	a,(hl)				; 7
0994+  994A~            	out	($11),a				; 11
0995+  994A~            						; 6
0996+  994A~            	djnz	vtifastCopyLoop			; 13/8
0997+  994A~            	ld	a,c				; 4
0998+  994A~            	cp	$2B+1				; 7
0999+  994A~            	jr	nz,vtifastCopyAgain		; 10/1
1000+  994A~            
1001+  994A~            	ld a,(vtigrayint)
1002+  994A~            	inc a
1003+  994A~            	cp 3 \ jr nz,vtib
1003+  994A~            	cp 3 \ jr nz,vtib
1004+  994A~            	xor a
1005+  994A~            vtib:	ld (vtigrayint),a
1006+  994A~            
1007+  994A~            	ld a,(interfrequency) \ out ($04),a
1007+  994A~            	ld a,(interfrequency) \ out ($04),a
1008+  994A~            	ld a,$08 \ out ($03),a
1008+  994A~            	ld a,$08 \ out ($03),a
1009+  994A~            	ld a,$0A \ out ($03),a
1009+  994A~            	ld a,$0A \ out ($03),a
1010+  994A~            	pop hl \ pop de \ pop bc \ pop af
1010+  994A~            	pop hl \ pop de \ pop bc \ pop af
1010+  994A~            	pop hl \ pop de \ pop bc \ pop af
1010+  994A~            	pop hl \ pop de \ pop bc \ pop af
1011+  994A~            	ei
1012+  994A~            	ret
1013+  994A~            
1014+  994A~            vtigrayint:
1015+  994A~            	.db 0
1016+  994A             #endif
1017+  994A             
1018+  994A             ;==========================================================
1019+  994A             ; gsGetK
1020+  994A             ;==========================================================
1021+  994A             gsGetK:
1022+  994A C5          	push bc
1023+  994B D5          	push de
1024+  994C E5          	push hl
1025+  994D             gs_GetK2:
1026+  994D 06 07       	ld b,7
1027+  994F             gs_GetK_loop:
1028+  994F             
1029+  994F 3E 07       	ld a,7
1030+  9951 90          	sub b
1031+  9952 21 B6 99    	ld hl,gs_keygroups
1032+  9955 16 00       	ld d,0 \ ld e,a
1032+  9957 5F          
1033+  9958 19          	add hl,de
1034+  9959 7E          	ld a,(hl)
1035+  995A 4F          	ld c,a
1036+  995B             
1037+  995B 3E FF       	ld a,0ffh           ;resets the keypad.
1038+  995D D3 01       	out (1),a           ;'Required syntax' :)
1039+  995F 79          	ld a,c
1040+  9960 D3 01       	out (1),a
1041+  9962 DB 01       	in a,(1)            ;'Required Syntax'
1042+  9964             
1043+  9964 11 00 00    	ld de,0
1044+  9967 FE FE       	cp 254 \ jr z,gs_GetK_254
1044+  9969 28 2B       
1045+  996B FE FD       	cp 253 \ jr z,gs_GetK_253
1045+  996D 28 26       
1046+  996F FE FB       	cp 251 \ jr z,gs_GetK_251
1046+  9971 28 21       
1047+  9973 FE F7       	cp 247 \ jr z,gs_GetK_247
1047+  9975 28 1C       
1048+  9977 FE EF       	cp 239 \ jr z,gs_GetK_239
1048+  9979 28 17       
1049+  997B FE DF       	cp 223 \ jr z,gs_GetK_223
1049+  997D 28 12       
1050+  997F FE BF       	cp 191 \ jr z,gs_GetK_191
1050+  9981 28 0D       
1051+  9983 FE 7F       	cp 127 \ jr z,gs_GetK_127
1051+  9985 28 08       
1052+  9987             
1053+  9987             gs_GetK_loopend:
1054+  9987             
1055+  9987 10 C6       	djnz gs_GetK_loop
1056+  9989             
1057+  9989 AF          	xor a
1058+  998A 32 F5 99    	ld (gs_keymem),a
1059+  998D 18 23       	jr gs_GetK_end
1060+  998F             
1061+  998F             gs_GetK_127:
1062+  998F 1C          	inc e
1063+  9990             gs_GetK_191:
1064+  9990 1C          	inc e
1065+  9991             gs_GetK_223:
1066+  9991 1C          	inc e
1067+  9992             gs_GetK_239:
1068+  9992 1C          	inc e
1069+  9993             gs_GetK_247:
1070+  9993 1C          	inc e
1071+  9994             gs_GetK_251:
1072+  9994 1C          	inc e
1073+  9995             gs_GetK_253:
1074+  9995 1C          	inc e
1075+  9996             gs_GetK_254:
1076+  9996             
1077+  9996 D5          	push de
1078+  9997 3E 07       	ld a,7
1079+  9999 90          	sub b
1080+  999A 87          	add a,a \ add a,a \ add a,a
1080+  999B 87          
1080+  999C 87          
1081+  999D 16 00       	ld d,0 \ ld e,a
1081+  999F 5F          
1082+  99A0 21 BD 99    	ld hl,gs_keygroup1
1083+  99A3 19          	add hl,de
1084+  99A4 D1          	pop de
1085+  99A5 19          	add hl,de
1086+  99A6 7E          	ld a,(hl)
1087+  99A7             
1088+  99A7             	;push hl
1089+  99A7             	;push de
1090+  99A7             	;push af
1091+  99A7             	;bcall(_puts)
1092+  99A7             	;ld	hl,2567
1093+  99A7             	;ld	(currow),hl
1094+  99A7             	;ld	h,0
1095+  99A7             	;ld	l,a
1096+  99A7             	;bcall(_disphl)
1097+  99A7             	;pop af
1098+  99A7             	;pop de
1099+  99A7             	;pop hl
1100+  99A7             
1101+  99A7 57          	ld d,a
1102+  99A8 3A F5 99    	ld a,(gs_keymem)
1103+  99AB BA          	cp d \ jr z,gs_getK_end
1103+  99AC 28 04       
1104+  99AE 7A          	ld a,d
1105+  99AF 32 F5 99    	ld (gs_keymem),a
1106+  99B2             
1107+  99B2             
1108+  99B2             gs_GetK_end:
1109+  99B2             
1110+  99B2             ;	ld b,255
1111+  99B2             ;gs_GetK_endloopc:
1112+  99B2             ;	push bc
1113+  99B2             ;	ld b,255
1114+  99B2             ;gs_Getk_endloopa:
1115+  99B2             ;	push bc
1116+  99B2             ;	ld b,255
1117+  99B2             ;gs_GetK_endloopb:
1118+  99B2             ;	push hl
1119+  99B2             ;	pop hl
1120+  99B2             ;	djnz gs_GetK_endloopb
1121+  99B2             ;	pop bc
1122+  99B2             ;	djnz gs_GetK_endloopa
1123+  99B2             ;	pop bc
1124+  99B2             ;	djnz gs_GetK_endloopc
1125+  99B2             
1126+  99B2 E1          	pop hl
1127+  99B3 D1          	pop de
1128+  99B4 C1          	pop bc
1129+  99B5 C9          	ret
1130+  99B6             
1131+  99B6             gs_keygroups:
1132+  99B6 FEFDFBF7EFDF	.db $fe, $fd, $fb, $f7, $ef, $df, $bf
1132+  99BC BF
1133+  99BD             gs_keygroup1:
1134+  99BD 010203040000	.db 01h, 02h, 03h, 04h, 00h, 00h, 00h, 00h
1134+  99C3 0000
1135+  99C5             gs_keygroup2:
1136+  99C5 090A0B0C0D00	.db 09h, 0Ah, 0Bh, 0Ch, 0Dh, 00h, 0Fh, 00h
1136+  99CB 0F00
1137+  99CD             gs_keygroup3:
1138+  99CD 8C1213141516	.db 8Ch, 12h, 13h, 14h, 15h, 16h, 17h, 00h
1138+  99D3 1700
1139+  99D5             gs_keygroup4:
1140+  99D5 8D1A1B1C1D1E	.db 8Dh, 1Ah, 1Bh, 1Ch, 1Dh, 1Eh, 1Fh, 20h
1140+  99DB 1F20
1141+  99DD             gs_keygroup5:
1142+  99DD 212223242526	.db 21h, 22h, 23h, 24h, 25h, 26h, 27h, 28h
1142+  99E3 2728
1143+  99E5             gs_keygroup6:
1144+  99E5 002A2B2C2D2E	.db 00h, 2Ah, 2Bh, 2Ch, 2Dh, 2Eh, 2Fh, 30h
1144+  99EB 2F30
1145+  99ED             gs_keygroup7:
1146+  99ED 313233343536	.db 31h, 32h, 33h, 34h, 35h, 36h, 37h, 38h 
1146+  99F3 3738
1147+  99F5             gs_keymem:
1148+  99F5 00          	.db 0
1149+  99F6             
1150+  99F6             ;==========================================================
1151+  99F6             ; gsSetFreq
1152+  99F6             ;==========================================================
1153+  99F6             ; call this routine to set up the interrupt frequency.
1154+  99F6             gsSetFreq:
1155+  99F6             
1156+  99F6             gsSetFreq_loop:
1157+  99F6             	;=== create upper line, 10 bytes
1158+  99F6 21 5D 90    	ld hl,gBuf1+(47*12)
1159+  99F9 11 99 84    	ld de,gBuf2+(47*12)
1160+  99FC 3E FF       	ld a,%11111111
1161+  99FE 06 0C       	ld b,12
1162+  9A00             gsSetFreq_a:
1163+  9A00 77          	ld (hl),a
1164+  9A01 23          	inc hl
1165+  9A02 12          	ld (de),a
1166+  9A03 13          	inc de
1167+  9A04 10 FA       	djnz gsSetFreq_a
1168+  9A06             
1169+  9A06             	;=== clear the used area
1170+  9A06 21 69 90    	ld hl,gBuf1+(48*12)
1171+  9A09 11 6A 90    	ld de,gBuf1+(48*12)+1
1172+  9A0C 36 00       	ld (hl),0
1173+  9A0E 01 BF 00    	ld bc,(12*16)-1
1174+  9A11 ED B0       	ldir
1175+  9A13             	;=== clear the used area
1176+  9A13 21 A5 84    	ld hl,gBuf2+(48*12)
1177+  9A16 11 A6 84    	ld de,gBuf2+(48*12)+1
1178+  9A19 36 00       	ld (hl),0
1179+  9A1B 01 BF 00    	ld bc,(12*16)-1
1180+  9A1E ED B0       	ldir
1181+  9A20             
1182+  9A20             	
1183+  9A20             	;=== set buffer text
1184+  9A20 FD CB 14 FE 	set textwrite,(iy+sgrflags)
1185+  9A24             
1186+  9A24             	;=== draw the texts
1187+  9A24 21 0A 31    	ld	hl,49*256 + 10
1188+  9A27 22 52 82    	ld	(pencol),hl
1189+  9A2A 21 BA 9A    	ld	hl,gsSetFreq_text
1190+  9A2D CD 81 47    	bcall(_vputs)
1191+  9A30 21 12 39    	ld	hl,57*256 + 18
1192+  9A33 22 52 82    	ld	(pencol),hl
1193+  9A36 21 D3 9A    	ld	hl,gsSetFreq_zerot
1194+  9A39 CD 81 47    	bcall(_vputs)
1195+  9A3C 21 22 39    	ld	hl,57*256 + 34
1196+  9A3F 22 52 82    	ld	(pencol),hl
1197+  9A42 21 D5 9A    	ld	hl,gsSetFreq_twot
1198+  9A45 CD 81 47    	bcall(_vputs)
1199+  9A48 21 32 39    	ld	hl,57*256 + 50
1200+  9A4B 22 52 82    	ld	(pencol),hl
1201+  9A4E 21 D7 9A    	ld	hl,gsSetFreq_fourt
1202+  9A51 CD 81 47    	bcall(_vputs)
1203+  9A54 21 42 39    	ld	hl,57*256 + 66
1204+  9A57 22 52 82    	ld	(pencol),hl
1205+  9A5A 21 D9 9A    	ld	hl,gsSetFreq_sixt
1206+  9A5D CD 81 47    	bcall(_vputs)
1207+  9A60 CD 5A 98    	call gsEnable
1208+  9A63             
1209+  9A63             	;=== draw the cursor
1210+  9A63 21 D5 90    	ld hl,gBuf1+(57*12)
1211+  9A66 06 00       	ld b,0
1212+  9A68 3A 65 96    	ld a,(interfrequency)
1213+  9A6B C6 02       	add a,2
1214+  9A6D 4F          	ld c,a
1215+  9A6E 09          	add hl,bc
1216+  9A6F 06 07       	ld b,7
1217+  9A71 3E FF       	ld a,255
1218+  9A73 11 0C 00    	ld de,12
1219+  9A76             gsSetFreq_cursorloop:
1220+  9A76 7E          	ld a,(hl)
1221+  9A77 2F          	cpl
1222+  9A78 77          	ld (hl),a
1223+  9A79 19          	add hl,de
1224+  9A7A 10 FA       	djnz gsSetFreq_cursorloop
1225+  9A7C CD 43 98    	call gsCopyBuffer
1226+  9A7F             
1227+  9A7F             
1228+  9A7F             	;=== wait for key input
1229+  9A7F             gsSetFreq_waitkey:
1230+  9A7F CD 4A 99    	call gsGetk
1231+  9A82 B7          	or a \ jr z,gsSetFreq_waitkey
1231+  9A83 28 FA       
1232+  9A85 FE 09       	cp gEnter \ ret z
1232+  9A87 C8          
1233+  9A88 FE 21       	cp g0 \ jr z,gsSetFreq_zero
1233+  9A8A 28 0F       
1234+  9A8C FE 1A       	cp g2 \ jr z,gsSetFreq_two
1234+  9A8E 28 12       
1235+  9A90 FE 23       	cp g4 \ jr z,gsSetFreq_four
1235+  9A92 28 16       
1236+  9A94 FE 13       	cp g6 \ jr z,gsSetFreq_six
1236+  9A96 28 1A       
1237+  9A98 C3 F6 99    	jp gsSetFreq_loop
1238+  9A9B             
1239+  9A9B             gsSetFreq_zero:
1240+  9A9B AF          	xor a
1241+  9A9C 32 65 96    	ld (interfrequency),a
1242+  9A9F C3 F6 99    	jp gsSetFreq_loop
1243+  9AA2             gsSetFreq_two:
1244+  9AA2 3E 02       	ld a,2
1245+  9AA4 32 65 96    	ld (interfrequency),a
1246+  9AA7 C3 F6 99    	jp gsSetFreq_loop
1247+  9AAA             gsSetFreq_four:
1248+  9AAA 3E 04       	ld a,4
1249+  9AAC 32 65 96    	ld (interfrequency),a
1250+  9AAF C3 F6 99    	jp gsSetFreq_loop
1251+  9AB2             gsSetFreq_six:
1252+  9AB2 3E 06       	ld a,6
1253+  9AB4 32 65 96    	ld (interfrequency),a
1254+  9AB7 C3 F6 99    	jp gsSetFreq_loop
1255+  9ABA             	
1256+  9ABA 73657420696EgsSetFreq_text:	.db "set interrupt frequency:",0
1256+  9AC0 74657272757074206672657175656E63793A00
1257+  9AD3 30 00       gsSetFreq_zerot:	.db "0",0
1258+  9AD5 32 00       gsSetFreq_twot:		.db "2",0
1259+  9AD7 34 00       gsSetFreq_fourt:	.db "4",0
1260+  9AD9 36 00       gsSetFreq_sixt:		.db "6",0
1261+  9ADB             
1262+  9ADB             ;==========================================================
1263+  9ADB             ; gsbuf1Tobuf2
1264+  9ADB             ;==========================================================
1265+  9ADB             ; copies buffer 1 to buffer 2
1266+  9ADB             gsbuf1Tobuf2:
1267+  9ADB 21 29 8E    	ld hl,gbuf1
1268+  9ADE 11 65 82    	ld de,gbuf2
1269+  9AE1 01 00 03    	ld bc,768
1270+  9AE4 ED B0       	ldir
1271+  9AE6 C9          	ret
1272+  9AE7             
1273+  9AE7             #ifndef NODOUBLEBUFFER
1274+  9AE7             gActivebuf1:
1275+  9AE7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1275+  9AED 000000000000000000000000000000000000
1276+  9AFF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1276+  9B05 000000000000000000000000000000000000
1277+  9B17 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1277+  9B1D 000000000000000000000000000000000000
1278+  9B2F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1278+  9B35 000000000000000000000000000000000000
1279+  9B47 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1279+  9B4D 000000000000000000000000000000000000
1280+  9B5F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1280+  9B65 000000000000000000000000000000000000
1281+  9B77 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1281+  9B7D 000000000000000000000000000000000000
1282+  9B8F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1282+  9B95 000000000000000000000000000000000000
1283+  9BA7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1283+  9BAD 000000000000000000000000000000000000
1284+  9BBF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1284+  9BC5 000000000000000000000000000000000000
1285+  9BD7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1285+  9BDD 000000000000000000000000000000000000
1286+  9BEF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1286+  9BF5 000000000000000000000000000000000000
1287+  9C07 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1287+  9C0D 000000000000000000000000000000000000
1288+  9C1F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1288+  9C25 000000000000000000000000000000000000
1289+  9C37 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1289+  9C3D 000000000000000000000000000000000000
1290+  9C4F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1290+  9C55 000000000000000000000000000000000000
1291+  9C67 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1291+  9C6D 000000000000000000000000000000000000
1292+  9C7F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1292+  9C85 000000000000000000000000000000000000
1293+  9C97 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1293+  9C9D 000000000000000000000000000000000000
1294+  9CAF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1294+  9CB5 000000000000000000000000000000000000
1295+  9CC7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1295+  9CCD 000000000000000000000000000000000000
1296+  9CDF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1296+  9CE5 000000000000000000000000000000000000
1297+  9CF7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1297+  9CFD 000000000000000000000000000000000000
1298+  9D0F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1298+  9D15 000000000000000000000000000000000000
1299+  9D27 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1299+  9D2D 000000000000000000000000000000000000
1300+  9D3F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1300+  9D45 000000000000000000000000000000000000
1301+  9D57 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1301+  9D5D 000000000000000000000000000000000000
1302+  9D6F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1302+  9D75 000000000000000000000000000000000000
1303+  9D87 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1303+  9D8D 000000000000000000000000000000000000
1304+  9D9F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1304+  9DA5 000000000000000000000000000000000000
1305+  9DB7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1305+  9DBD 000000000000000000000000000000000000
1306+  9DCF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1306+  9DD5 000000000000000000000000000000000000
1307+  9DE7             gActivebuf2:
1308+  9DE7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1308+  9DED 000000000000000000000000000000000000
1309+  9DFF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1309+  9E05 000000000000000000000000000000000000
1310+  9E17 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1310+  9E1D 000000000000000000000000000000000000
1311+  9E2F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1311+  9E35 000000000000000000000000000000000000
1312+  9E47 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1312+  9E4D 000000000000000000000000000000000000
1313+  9E5F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1313+  9E65 000000000000000000000000000000000000
1314+  9E77 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1314+  9E7D 000000000000000000000000000000000000
1315+  9E8F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1315+  9E95 000000000000000000000000000000000000
1316+  9EA7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1316+  9EAD 000000000000000000000000000000000000
1317+  9EBF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1317+  9EC5 000000000000000000000000000000000000
1318+  9ED7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1318+  9EDD 000000000000000000000000000000000000
1319+  9EEF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1319+  9EF5 000000000000000000000000000000000000
1320+  9F07 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1320+  9F0D 000000000000000000000000000000000000
1321+  9F1F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1321+  9F25 000000000000000000000000000000000000
1322+  9F37 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1322+  9F3D 000000000000000000000000000000000000
1323+  9F4F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1323+  9F55 000000000000000000000000000000000000
1324+  9F67 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1324+  9F6D 000000000000000000000000000000000000
1325+  9F7F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1325+  9F85 000000000000000000000000000000000000
1326+  9F97 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1326+  9F9D 000000000000000000000000000000000000
1327+  9FAF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1327+  9FB5 000000000000000000000000000000000000
1328+  9FC7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1328+  9FCD 000000000000000000000000000000000000
1329+  9FDF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1329+  9FE5 000000000000000000000000000000000000
1330+  9FF7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1330+  9FFD 000000000000000000000000000000000000
1331+  A00F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1331+  A015 000000000000000000000000000000000000
1332+  A027 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1332+  A02D 000000000000000000000000000000000000
1333+  A03F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1333+  A045 000000000000000000000000000000000000
1334+  A057 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1334+  A05D 000000000000000000000000000000000000
1335+  A06F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1335+  A075 000000000000000000000000000000000000
1336+  A087 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1336+  A08D 000000000000000000000000000000000000
1337+  A09F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1337+  A0A5 000000000000000000000000000000000000
1338+  A0B7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1338+  A0BD 000000000000000000000000000000000000
1339+  A0CF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1339+  A0D5 000000000000000000000000000000000000
1340+  A0E7             #endif
1341+  A0E7             
0343   A0E7             
0344   A0E7             charGraphicCombinations:
0345   A0E7 00 01 02 03 	.db 0,1,2,3		;up
0346   A0EB 04 05 06 07 	.db 4,5,6,7		;right
0347   A0EF 08 09 0A 0B 	.db 8,9,10,11		;down
0348   A0F3 85 84 87 0C 	.db 5+128,4+128,7+128,12 ;left
0349   A0F7             
0350   A0F7 0D 0E 0F 10 	.db 13,14,15,16		;up2
0351   A0FB 11 12 13 14 	.db 17,18,19,20		;right2
0352   A0FF 15 16 17 18 	.db 21,22,23,24	;down2
0353   A103 92 91 94 19 	.db 18+128,17+128,20+128,25 ;left2
0354   A107             
0355   A107             ;==========================================================
0356   A107             ; sprite includes
0357   A107             ;==========================================================
0358   A107             tiles1:
0359   A107             #INCLUDE	tiles1.asm
0001+  A107             ;Tile data - Graphics Studio
0002+  A107             
0003+  A107              ;Tile 0
0004+  A107 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0004+  A10D 00000000000000000000
0005+  A117              ;Tile 1
0006+  A117 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
0006+  A11D 0000FFFFFFFFFFFFFFFF
0007+  A127              ;Tile 2
0008+  A127 FFFFFFFFFFFF .db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00,$00,$00,$00,$00,$00
0008+  A12D FFFF0000000000000000
0009+  A137              ;Tile 3
0010+  A137 FFFFFFFFFFFF .db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
0010+  A13D FFFFFFFFFFFFFFFFFFFF
0011+  A147              ;Tile 4
0012+  A147 000800004000 .db $00,$08,$00,$00,$40,$00,$00,$00,$7E,$F7,$FF,$FF,$BF,$FB,$FF,$7E
0012+  A14D 00007EF7FFFFBFFBFF7E
0013+  A157              ;Tile 5
0014+  A157 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$54,$28,$00,$00,$00,$00
0014+  A15D 00000010542800000000
0015+  A167              ;Tile 6
0016+  A167 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$EF,$C7,$BB,$7C,$7C,$BB,$C7,$EF
0016+  A16D 0000EFC7BB7C7CBBC7EF
0017+  A177              ;Tile 7
0018+  A177 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$7F
0018+  A17D 0000000101010101017F
0019+  A187              ;Tile 8
0020+  A187 38448282827C .db $38,$44,$82,$82,$82,$7C,$00,$00,$00,$08,$0C,$2C,$6C,$00,$00,$00
0020+  A18D 000000080C2C6C000000
0021+  A197              ;Tile 9
0022+  A197 0000001C2222 .db $00,$00,$00,$1C,$22,$22,$1C,$00,$00,$00,$00,$00,$04,$0C,$22,$00
0022+  A19D 1C0000000000040C2200
0023+  A1A7              ;Tile 10
0024+  A1A7 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$C6,$64,$70,$31,$33,$37,$16,$16
0024+  A1AD 0000C664703133371616
0025+  A1B7              ;Tile 11
0026+  A1B7 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$40,$00,$04,$00,$10,$00,$01
0026+  A1BD 00000040000400100001
0027+  A1C7              ;Tile 12
0028+  A1C7 0F3F7FFFFFFF .db $0F,$3F,$7F,$FF,$FF,$FF,$FF,$FF,$F3,$CF,$9F,$3F,$3F,$3F,$3F,$7F
0028+  A1CD FFFFF3CF9F3F3F3F3F7F
0029+  A1D7              ;Tile 13
0030+  A1D7 F0FCFEFFFFFF .db $F0,$FC,$FE,$FF,$FF,$FF,$FF,$FF,$CF,$F3,$F9,$FC,$FC,$FC,$FC,$FE
0030+  A1DD FFFFCFF3F9FCFCFCFCFE
0031+  A1E7              ;Tile 14
0032+  A1E7 FF3F7FFFFFFF .db $FF,$3F,$7F,$FF,$FF,$FF,$E0,$C0,$BF,$FF,$BF,$1F,$1F,$20,$5F,$BF
0032+  A1ED E0C0BFFFBF1F1F205FBF
0033+  A1F7              ;Tile 15
0034+  A1F7 FFFCFEFFFFFF .db $FF,$FC,$FE,$FF,$FF,$FF,$07,$03,$FD,$FF,$FD,$F8,$F8,$04,$FA,$FD
0034+  A1FD 0703FDFFFDF8F804FAFD
0035+  A207              ;Tile 16
0036+  A207 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$FF,$CF,$83,$38,$FF,$1F,$4C,$E1
0036+  A20D 0000FFCF8338FF1F4CE1
0037+  A217              ;Tile 17
0038+  A217 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$FF,$F3,$E0,$0E,$FF,$7C,$31,$87
0038+  A21D 0000FFF3E00EFF7C3187
0039+  A227              ;Tile 18
0040+  A227 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$FF,$FC,$38,$83,$FF,$F1,$C4,$1E
0040+  A22D 0000FFFC3883FFF1C41E
0041+  A237              ;Tile 19
0042+  A237 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$FF,$3F,$0E,$E0,$FF,$C7,$13,$78
0042+  A23D 0000FF3F0EE0FFC71378
0043+  A247              ;Tile 20
0044+  A247 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$38,$38,$C6,$C6,$C6,$38,$38,$00
0044+  A24D 00003838C6C6C6383800
0045+  A257              ;Tile 21
0046+  A257 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$38,$BA,$C6,$C6,$44,$38,$00
0046+  A25D 00000038BAC6C6443800
0047+  A267              ;Tile 22
0048+  A267 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$38,$38,$C6,$C6,$C6,$38,$38
0048+  A26D 0000003838C6C6C63838
0049+  A277              ;Tile 23
0050+  A277 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$38,$44,$C6,$C6,$BA,$38,$00
0050+  A27D 0000003844C6C6BA3800
0051+  A287              ;Tile 24
0052+  A287 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$FF,$F3,$FF,$FF,$FF,$CF,$FF,$FF
0052+  A28D 0000FFF3FFFFFFCFFFFF
0053+  A297              ;Tile 25
0054+  A297 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$FF,$FC,$FF,$FF,$FF,$3F,$FF,$FF
0054+  A29D 0000FFFCFFFFFF3FFFFF
0055+  A2A7              ;Tile 26
0056+  A2A7 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$FF,$3F,$FF,$FF,$FF,$FC,$FF,$FF
0056+  A2AD 0000FF3FFFFFFFFCFFFF
0057+  A2B7              ;Tile 27
0058+  A2B7 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$FF,$CF,$FF,$FF,$FF,$F3,$FF,$FF
0058+  A2BD 0000FFCFFFFFFFF3FFFF
0059+  A2C7              ;Tile 28
0060+  A2C7 FF0000FFFF00 .db $FF,$00,$00,$FF,$FF,$00,$00,$FF,$00,$00,$00,$00,$00,$00,$00,$00
0060+  A2CD 00FF0000000000000000
0061+  A2D7              ;Tile 29
0062+  A2D7 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0062+  A2DD 00000000000000000000
0063+  A2E7              ;Tile 30
0064+  A2E7 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0064+  A2ED 00000000000000000000
0065+  A2F7              ;Tile 31
0066+  A2F7 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0066+  A2FD 00000000000000000000
0067+  A307              ;Tile 32
0068+  A307 18282E499FB1 .db $18,$28,$2E,$49,$9F,$B1,$F5,$B1,$18,$28,$2E,$5F,$BF,$B1,$F5,$B1
0068+  A30D F5B118282E5FBFB1F5B1
0069+  A317              ;Tile 33
0070+  A317 0003057595F5 .db $00,$03,$05,$75,$95,$F5,$F7,$FD,$00,$03,$05,$75,$F7,$F7,$F7,$FD
0070+  A31D F7FD00030575F7F7F7FD
0071+  A327              ;Tile 34
0072+  A327 9F9E9FB3A9C4 .db $9F,$9E,$9F,$B3,$A9,$C4,$06,$05,$9F,$9F,$BF,$B3,$E9,$C4,$06,$05
0072+  A32D 06059F9FBFB3E9C40605
0073+  A337              ;Tile 35
0074+  A337 15DDD7F59525 .db $15,$DD,$D7,$F5,$95,$25,$C5,$43,$F5,$FF,$F7,$F7,$97,$27,$C7,$43
0074+  A33D C543F5FFF7F79727C743
0075+  A347              ;Tile 36
0076+  A347 04031E3252D3 .db $04,$03,$1E,$32,$52,$D3,$D0,$D0,$04,$03,$1E,$36,$76,$F7,$F7,$F0
0076+  A34D D0D004031E3676F7F7F0
0077+  A357              ;Tile 37
0078+  A357 4080F0989496 .db $40,$80,$F0,$98,$94,$96,$16,$16,$40,$80,$F0,$D8,$DC,$DE,$DE,$1E
0078+  A35D 16164080F0D8DCDEDE1E
0079+  A367              ;Tile 38
0080+  A367 DFDFC0DFB0B5 .db $DF,$DF,$C0,$DF,$B0,$B5,$B0,$FF,$FF,$FF,$FF,$FF,$F0,$F5,$F0,$FF
0080+  A36D B0FFFFFFFFFFF0F5F0FF
0081+  A377              ;Tile 39
0082+  A377 F6F606F61A5A .db $F6,$F6,$06,$F6,$1A,$5A,$1A,$FE,$FE,$FE,$FE,$FE,$1E,$5E,$1E,$FE
0082+  A37D 1AFEFEFEFEFE1E5E1EFE
0083+  A387              ;Tile 40
0084+  A387 FF81A0808080 .db $FF,$81,$A0,$80,$80,$80,$80,$80,$FE,$CF,$9F,$BB,$BF,$BF,$92,$CC
0084+  A38D 8080FECF9FBBBFBF92CC
0085+  A397              ;Tile 41
0086+  A397 FF8121010101 .db $FF,$81,$21,$01,$01,$01,$01,$01,$7F,$FF,$DF,$FB,$FF,$FF,$19,$C3
0086+  A39D 01017FFFDFFBFFFF19C3
0087+  A3A7              ;Tile 42
0088+  A3A7 FFF19DDFFC85 .db $FF,$F1,$9D,$DF,$FC,$85,$F7,$FF,$9F,$FF,$F3,$B3,$FF,$FE,$8C,$FF
0088+  A3AD F7FF9FFFF3B3FFFE8CFF
0089+  A3B7              ;Tile 43
0090+  A3B7 FF8FB9FB3FA1 .db $FF,$8F,$B9,$FB,$3F,$A1,$EF,$FF,$F9,$FF,$CF,$CD,$FF,$7F,$31,$FF
0090+  A3BD EFFFF9FFCFCDFF7F31FF
0091+  A3C7              ;Tile 44
0092+  A3C7 0F103070F0F0 .db $0F,$10,$30,$70,$F0,$F0,$F0,$F0,$0F,$18,$2B,$4B,$8B,$8B,$8B,$8B
0092+  A3CD F0F00F182B4B8B8B8B8B
0093+  A3D7              ;Tile 45
0094+  A3D7 FF0000000000 .db $FF,$00,$00,$00,$00,$00,$00,$00,$FF,$00,$FF,$FF,$FF,$FF,$FF,$FF
0094+  A3DD 0000FF00FFFFFFFFFFFF
0095+  A3E7              ;Tile 46
0096+  A3E7 F0080C0E0F0F .db $F0,$08,$0C,$0E,$0F,$0F,$0F,$0F,$F0,$18,$D4,$D2,$D1,$D1,$D1,$D1
0096+  A3ED 0F0FF018D4D2D1D1D1D1
0097+  A3F7              ;Tile 47
0098+  A3F7 F0F0EFEFDFDF .db $F0,$F0,$EF,$EF,$DF,$DF,$BF,$BF,$88,$8F,$90,$90,$A0,$A0,$C0,$C0
0098+  A3FD BFBF888F9090A0A0C0C0
0099+  A407              ;Tile 48
0100+  A407 0000FFFFFFFF .db $00,$00,$FF,$FF,$FF,$FF,$FF,$FF,$00,$FF,$00,$00,$00,$00,$00,$00
0100+  A40D FFFF00FF000000000000
0101+  A417              ;Tile 49
0102+  A417 0F0FF7F7FBFB .db $0F,$0F,$F7,$F7,$FB,$FB,$FD,$FD,$11,$F1,$09,$09,$05,$05,$03,$03
0102+  A41D FDFD11F1090905050303
0103+  A427              ;Tile 50
0104+  A427 F0F0F0F0F0F0 .db $F0,$F0,$F0,$F0,$F0,$F0,$F0,$F0,$8B,$8B,$8B,$8B,$8B,$8B,$8B,$8B
0104+  A42D F0F08B8B8B8B8B8B8B8B
0105+  A437              ;Tile 51
0106+  A437 0F0F0F0F0F0F .db $0F,$0F,$0F,$0F,$0F,$0F,$0F,$0F,$D1,$D1,$D1,$D1,$D1,$D1,$D1,$D1
0106+  A43D 0F0FD1D1D1D1D1D1D1D1
0107+  A447              ;Tile 52
0108+  A447 7F80809F9F9F .db $7F,$80,$80,$9F,$9F,$9F,$9F,$9F,$7F,$C0,$80,$90,$90,$FF,$9F,$9F
0108+  A44D 9F9F7FC0809090FF9F9F
0109+  A457              ;Tile 53
0110+  A457 FE0101F9F9F9 .db $FE,$01,$01,$F9,$F9,$F9,$F9,$F9,$FE,$81,$81,$89,$89,$FF,$F9,$F9
0110+  A45D F9F9FE81818989FFF9F9
0111+  A467              ;Tile 54
0112+  A467 9F8080C0BF84 .db $9F,$80,$80,$C0,$BF,$84,$44,$3F,$9F,$80,$C0,$BF,$80,$C0,$7B,$3F
0112+  A46D 443F9F80C0BF80C07B3F
0113+  A477              ;Tile 55
0114+  A477 F9010183FD11 .db $F9,$01,$01,$83,$FD,$11,$12,$FC,$F9,$81,$83,$7D,$01,$03,$EE,$FC
0114+  A47D 12FCF981837D0103EEFC
0115+  A487              ;Tile 56
0116+  A487 000018244242 .db $00,$00,$18,$24,$42,$42,$66,$5E,$00,$00,$18,$24,$5A,$5A,$46,$4A
0116+  A48D 665E000018245A5A464A
0117+  A497              ;Tile 57
0118+  A497 565646565656 .db $56,$56,$46,$56,$56,$56,$3C,$00,$4A,$4A,$4A,$4A,$6A,$6A,$3C,$00
0118+  A49D 3C004A4A4A4A6A6A3C00
0119+  A4A7              ;Tile 58
0120+  A4A7 00030E183031 .db $00,$03,$0E,$18,$30,$31,$63,$73,$01,$07,$0D,$17,$2F,$6E,$5C,$CC
0120+  A4AD 637301070D172F6E5CCC
0121+  A4B7              ;Tile 59
0122+  A4B7 FF802040C0C0 .db $FF,$80,$20,$40,$C0,$C0,$C0,$80,$FF,$7F,$D8,$B0,$30,$38,$3F,$7F
0122+  A4BD C080FF7FD8B030383F7F
0123+  A4C7              ;Tile 60
0124+  A4C7 FF3F0C060703 .db $FF,$3F,$0C,$06,$07,$03,$03,$07,$FF,$C0,$F3,$79,$78,$FC,$FC,$F8
0124+  A4CD 0307FFC0F37978FCFCF8
0125+  A4D7              ;Tile 61
0126+  A4D7 00C0F0381C9C .db $00,$C0,$F0,$38,$1C,$9C,$8E,$8E,$80,$E0,$30,$C8,$E4,$66,$72,$73
0126+  A4DD 8E8E80E030C8E4667273
0127+  A4E7              ;Tile 62
0128+  A4E7 F3E1E0E0F0F6 .db $F3,$E1,$E0,$E0,$F0,$F6,$FE,$FF,$8C,$9E,$9F,$9F,$8F,$89,$81,$80
0128+  A4ED FEFF8C9E9F9F8F898180
0129+  A4F7              ;Tile 63
0130+  A4F7 98FFFFFF6703 .db $98,$FF,$FF,$FF,$67,$03,$00,$00,$67,$00,$00,$00,$98,$FC,$FF,$FF
0130+  A4FD 00006700000098FCFFFF
0131+  A507              ;Tile 64
0132+  A507 1F1FBFFFF6E0 .db $1F,$1F,$BF,$FF,$F6,$E0,$C0,$00,$E0,$E0,$40,$00,$09,$1F,$3F,$FF
0132+  A50D C000E0E04000091F3FFF
0133+  A517              ;Tile 65
0134+  A517 9F1F0F0F0F1F .db $9F,$1F,$0F,$0F,$0F,$1F,$FF,$FF,$61,$E1,$F1,$F1,$F1,$E1,$01,$01
0134+  A51D FFFF61E1F1F1F1E10101
0135+  A527              ;Tile 66
0136+  A527 FF7F7F7F9F8F .db $FF,$7F,$7F,$7F,$9F,$8F,$73,$1C,$80,$C0,$C0,$F0,$F2,$FE,$FF,$FF
0136+  A52D 731C80C0C0F0F2FEFFFF
0137+  A537              ;Tile 67
0138+  A537 C0E0E1F7FFFF .db $C0,$E0,$E1,$F7,$FF,$FF,$FF,$FF,$3F,$1F,$1E,$08,$00,$00,$90,$F9
0138+  A53D FFFF3F1F1E08000090F9
0139+  A547              ;Tile 68
0140+  A547 0303C7FFFFFF .db $03,$03,$C7,$FF,$FF,$FF,$FF,$FF,$FC,$FC,$38,$00,$00,$00,$82,$CF
0140+  A54D FFFFFCFC3800000082CF
0141+  A557              ;Tile 69
0142+  A557 FFFFFEFEFDF1 .db $FF,$FF,$FE,$FE,$FD,$F1,$CE,$B8,$01,$01,$0B,$0F,$4F,$7F,$FF,$FF
0142+  A55D CEB801010B0F4F7FFFFF
0143+  A567              ;Tile 70
0144+  A567 78303021371F .db $78,$30,$30,$21,$37,$1F,$00,$00,$8C,$D8,$A1,$36,$2B,$3E,$07,$00
0144+  A56D 00008CD8A1362B3E0700
0145+  A577              ;Tile 71
0146+  A577 1F0470F8F8FC .db $1F,$04,$70,$F8,$F8,$FC,$7E,$03,$6E,$FB,$A8,$F0,$94,$0B,$87,$3F
0146+  A57D 7E036EFBA8F0940B873F
0147+  A587              ;Tile 72
0148+  A587 FF3E1F1F3F7F .db $FF,$3E,$1F,$1F,$3F,$7F,$FE,$F8,$78,$C1,$64,$6F,$C9,$90,$61,$C7
0148+  A58D FEF878C1646FC99061C7
0149+  A597              ;Tile 73
0150+  A597 1F0E0C84E4F8 .db $1F,$0E,$0C,$84,$E4,$F8,$00,$00,$B0,$99,$C7,$6E,$DE,$7C,$F0,$00
0150+  A59D 0000B099C76EDE7CF000
0151+  A5A7              ;Tile 74
0152+  A5A7 0307DEF8F0F1 .db $03,$07,$DE,$F8,$F0,$F1,$E3,$E3,$FC,$FF,$29,$17,$2F,$2E,$5C,$5C
0152+  A5AD E3E3FCFF29172F2E5C5C
0153+  A5B7              ;Tile 75
0154+  A5B7 C0E0F93F1F9F .db $C0,$E0,$F9,$3F,$1F,$9F,$8F,$8F,$3F,$DF,$36,$C8,$E4,$64,$72,$72
0154+  A5BD 8F8F3FDF36C8E4647272
0155+  A5C7              ;Tile 76
0156+  A5C7 FEFF03010103 .db $FE,$FF,$03,$01,$01,$03,$FF,$FE,$FD,$02,$FD,$03,$43,$FD,$02,$FD
0156+  A5CD FFFEFD02FD0343FD02FD
0157+  A5D7              ;Tile 77
0158+  A5D7 7FFFC08080C0 .db $7F,$FF,$C0,$80,$80,$C0,$FF,$7F,$BF,$40,$BF,$C2,$C0,$BF,$40,$BF
0158+  A5DD FF7FBF40BFC2C0BF40BF
0159+  A5E7              ;Tile 78
0160+  A5E7 06FEFEBCF8F0 .db $06,$FE,$FE,$BC,$F8,$F0,$C0,$00,$FB,$03,$44,$4A,$14,$68,$A0,$80
0160+  A5ED C000FB03444A1468A080
0161+  A5F7              ;Tile 79
0162+  A5F7 607F7F3F1F0F .db $60,$7F,$7F,$3F,$1F,$0F,$03,$00,$DF,$C0,$20,$50,$28,$16,$05,$01
0162+  A5FD 0300DFC0205028160501
0163+  A607              ;Tile 80
0164+  A607 90FFE08C8CFF .db $90,$FF,$E0,$8C,$8C,$FF,$00,$00,$F8,$9F,$9F,$F3,$F3,$FF,$FF,$7E
0164+  A60D 0000F89F9FF3F3FFFF7E
0165+  A617              ;Tile 81
0166+  A617 09FB031919FF .db $09,$FB,$03,$19,$19,$FF,$00,$00,$1F,$FD,$3D,$27,$E7,$FF,$FF,$7E
0166+  A61D 00001FFD3D27E7FFFF7E
0167+  A627              ;Tile 82
0168+  A627 FFFF8080FFF7 .db $FF,$FF,$80,$80,$FF,$F7,$97,$97,$FF,$80,$80,$FF,$FF,$9F,$FF,$FF
0168+  A62D 9797FF8080FFFF9FFFFF
0169+  A637              ;Tile 83
0170+  A637 FFFF0101FFEF .db $FF,$FF,$01,$01,$FF,$EF,$E9,$E9,$FF,$01,$01,$FF,$FF,$F9,$FF,$FF
0170+  A63D E9E9FF0101FFFFF9FFFF
0171+  A647              ;Tile 84
0172+  A647 FF0000003F3F .db $FF,$00,$00,$00,$3F,$3F,$FF,$FF,$FF,$00,$00,$FF,$C0,$DF,$FF,$1F
0172+  A64D FFFFFF0000FFC0DFFF1F
0173+  A657              ;Tile 85
0174+  A657 FF000000FCFC .db $FF,$00,$00,$00,$FC,$FC,$FF,$FF,$FF,$00,$00,$FF,$03,$FB,$FF,$F8
0174+  A65D FFFFFF0000FF03FBFFF8
0175+  A667              ;Tile 86
0176+  A667 3F3F3F3F3F3F .db $3F,$3F,$3F,$3F,$3F,$3F,$3F,$FF,$DF,$DF,$DF,$DF,$DF,$DF,$DF,$FF
0176+  A66D 3FFFDFDFDFDFDFDFDFFF
0177+  A677              ;Tile 87
0178+  A677 FCFCFCFCFCFC .db $FC,$FC,$FC,$FC,$FC,$FC,$FC,$FF,$FB,$FB,$FB,$FB,$FB,$FB,$FB,$FF
0178+  A67D FCFFFBFBFBFBFBFBFBFF
0179+  A687              ;Tile 88
0180+  A687 C3C3C3C3E7FF .db $C3,$C3,$C3,$C3,$E7,$FF,$FF,$7E,$A5,$A5,$A5,$BD,$99,$81,$42,$BD
0180+  A68D FF7EA5A5A5BD998142BD
0181+  A697              ;Tile 89
0182+  A697 7EE7C3C3C3C3 .db $7E,$E7,$C3,$C3,$C3,$C3,$C3,$C3,$BD,$5A,$A5,$A5,$A5,$A5,$AD,$A5
0182+  A69D C3C3BD5AA5A5A5A5ADA5
0183+  A6A7              ;Tile 90
0184+  A6A7 80001F3F3F3F .db $80,$00,$1F,$3F,$3F,$3F,$3F,$3F,$7F,$FF,$F8,$CC,$C6,$C7,$C3,$C3
0184+  A6AD 3F3F7FFFF8CCC6C7C3C3
0185+  A6B7              ;Tile 91
0186+  A6B7 0100FCFCFCFC .db $01,$00,$FC,$FC,$FC,$FC,$FC,$FC,$FE,$FF,$1B,$33,$63,$E3,$C3,$C3
0186+  A6BD FCFCFEFF1B3363E3C3C3
0187+  A6C7              ;Tile 92
0188+  A6C7 071F386060C0 .db $07,$1F,$38,$60,$60,$C0,$C1,$C3,$03,$0C,$17,$38,$50,$71,$A2,$A5
0188+  A6CD C1C3030C17385071A2A5
0189+  A6D7              ;Tile 93
0190+  A6D7 E0F81C060603 .db $E0,$F8,$1C,$06,$06,$03,$83,$C3,$D0,$34,$EA,$1C,$0B,$8E,$45,$A5
0190+  A6DD 83C3D034EA1C0B8E45A5
0191+  A6E7              ;Tile 94
0192+  A6E7 C3C1C0E0F0FC .db $C3,$C1,$C0,$E0,$F0,$FC,$7F,$1F,$A5,$A2,$B1,$98,$CE,$63,$B0,$6F
0192+  A6ED 7F1FA5A2B198CE63B06F
0193+  A6F7              ;Tile 95
0194+  A6F7 C38303070F3F .db $C3,$83,$03,$07,$0F,$3F,$FE,$F8,$A5,$45,$8D,$19,$73,$C6,$0D,$F6
0194+  A6FD FEF8A5458D1973C60DF6
0195+  A707              ;Tile 96
0196+  A707 FFFF00000000 .db $FF,$FF,$00,$00,$00,$00,$FF,$FF,$FF,$00,$FF,$04,$40,$FF,$00,$FF
0196+  A70D FFFFFF00FF0440FF00FF
0197+  A717              ;Tile 97
0198+  A717 C3C3C3C3C3C3 .db $C3,$C3,$C3,$C3,$C3,$C3,$C3,$C3,$A5,$A5,$B5,$A5,$A5,$A5,$AD,$A5
0198+  A71D C3C3A5A5B5A5A5A5ADA5
0199+  A727              ;Tile 98
0200+  A727 FF0070BFFFFF .db $FF,$00,$70,$BF,$FF,$FF,$F6,$F7,$FF,$FF,$70,$DF,$BC,$FF,$B6,$FF
0200+  A72D F6F7FFFF70DFBCFFB6FF
0201+  A737              ;Tile 99
0202+  A737 FF000EFDFFFF .db $FF,$00,$0E,$FD,$FF,$FF,$6F,$EF,$FF,$FF,$0E,$FB,$3D,$FF,$69,$FF
0202+  A73D 6FEFFFFF0EFB3DFF69FF
0203+  A747              ;Tile 100
0204+  A747 FEFFFFFFDFCF .db $FE,$FF,$FF,$FF,$DF,$CF,$E7,$F1,$C1,$E0,$E0,$D0,$E8,$F6,$DB,$CE
0204+  A74D E7F1C1E0E0D0E8F6DBCE
0205+  A757              ;Tile 101
0206+  A757 7FFFFFFFFBF3 .db $7F,$FF,$FF,$FF,$FB,$F3,$E7,$8F,$83,$07,$07,$0B,$17,$6F,$DB,$73
0206+  A75D E78F8307070B176FDB73
0207+  A767              ;Tile 102
0208+  A767 FEFFFFFFFF7F .db $FE,$FF,$FF,$FF,$FF,$7F,$3F,$1F,$C1,$C0,$C0,$C0,$C0,$E0,$78,$BF
0208+  A76D 3F1FC1C0C0C0C0E078BF
0209+  A777              ;Tile 103
0210+  A777 E0071FFFFFFF .db $E0,$07,$1F,$FF,$FF,$FF,$FF,$FF,$1F,$F8,$E0,$00,$20,$00,$07,$FF
0210+  A77D FFFF1FF8E000200007FF
0211+  A787              ;Tile 104
0212+  A787 07E0F8BFFFFF .db $07,$E0,$F8,$BF,$FF,$FF,$FF,$FF,$F8,$1F,$47,$40,$00,$00,$E0,$FF
0212+  A78D FFFFF81F47400000E0FF
0213+  A797              ;Tile 105
0214+  A797 7FFFFFFFFFFE .db $7F,$FF,$FF,$FF,$FF,$FE,$FC,$F8,$83,$03,$03,$03,$03,$07,$1E,$FD
0214+  A79D FCF88303030303071EFD
0215+  A7A7              ;Tile 106
0216+  A7A7 FCFCFEFEFEFC .db $FC,$FC,$FE,$FE,$FE,$FC,$FC,$FC,$C3,$C3,$C1,$C1,$C1,$E3,$E3,$E3
0216+  A7AD FCFCC3C3C1C1C1E3E3E3
0217+  A7B7              ;Tile 107
0218+  A7B7 3F3F7F7F7F3F .db $3F,$3F,$7F,$7F,$7F,$3F,$3F,$3F,$C3,$C3,$83,$83,$83,$C7,$C7,$C7
0218+  A7BD 3F3FC3C3838383C7C7C7
0219+  A7C7              ;Tile 108
0220+  A7C7 FFFFFFFFFFFF .db $FF,$FF,$FF,$FF,$FF,$FF,$70,$00,$FF,$FF,$0C,$00,$40,$00,$8F,$FF
0220+  A7CD 7000FFFF0C0040008FFF
0221+  A7D7              ;Tile 109
0222+  A7D7 BEDFEEFE1F43 .db $BE,$DF,$EE,$FE,$1F,$43,$FE,$04,$64,$36,$9F,$75,$0E,$BE,$FC,$38
0222+  A7DD FE0464369F750EBEFC38
0223+  A7E7              ;Tile 110
0224+  A7E7 1F3F7FFFFFFC .db $1F,$3F,$7F,$FF,$FF,$FC,$F8,$F8,$8F,$3F,$7C,$70,$E0,$E3,$C7,$C7
0224+  A7ED F8F88F3F7C70E0E3C7C7
0225+  A7F7              ;Tile 111
0226+  A7F7 F8FCFEFFFF3F .db $F8,$FC,$FE,$FF,$FF,$3F,$1F,$1F,$F1,$FC,$3E,$0E,$07,$C7,$E3,$E3
0226+  A7FD 1F1FF1FC3E0E07C7E3E3
0227+  A807              ;Tile 112
0228+  A807 FCFCFCFCFCF8 .db $FC,$FC,$FC,$FC,$FC,$F8,$01,$03,$E3,$F3,$3B,$0B,$03,$07,$FE,$FD
0228+  A80D 0103E3F33B0B0307FEFD
0229+  A817              ;Tile 113
0230+  A817 3F3F3F3F3F1F .db $3F,$3F,$3F,$3F,$3F,$1F,$80,$C0,$C7,$CF,$DC,$D0,$C0,$E0,$7F,$BF
0230+  A81D 80C0C7CFDCD0C0E07FBF
0231+  A827              ;Tile 114
0232+  A827 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0232+  A82D 00000000000000000000
0233+  A837              ;Tile 115
0234+  A837 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0234+  A83D 00000000000000000000
0235+  A847              ;Tile 116
0236+  A847 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0236+  A84D 00000000000000000000
0237+  A857              ;Tile 117
0238+  A857 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0238+  A85D 00000000000000000000
0239+  A867              ;Tile 118
0240+  A867 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0240+  A86D 00000000000000000000
0241+  A877              ;Tile 119
0242+  A877 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0242+  A87D 00000000000000000000
0360   A887             tiles2:
0361   A887             ;#INCLUDE	tiles2.asm
0362   A887             char:
0363   A887             #INCLUDE	char.asm
0001+  A887             ;Tile data - Graphics Studio
0002+  A887             
0003+  A887              ;Tile 0
0004+  A887 FFFFFCFBECE8 .db $FF,$FF,$FC,$FB,$EC,$E8,$EA,$EC,$03,$07,$04,$1B,$2E,$2E,$2F,$3F
0004+  A88D EAEC0307041B2E2E2F3F
0005+  A897              ;Tile 1
0006+  A897 FFFF3FDF3717 .db $FF,$FF,$3F,$DF,$37,$17,$15,$15,$80,$C0,$20,$D8,$74,$77,$75,$7D
0006+  A89D 151580C020D87477757D
0007+  A8A7              ;Tile 2
0008+  A8A7 FCF4E4EBF0F8 .db $FC,$F4,$E4,$EB,$F0,$F8,$FF,$FF,$1F,$1F,$2F,$2F,$18,$1F,$1F,$0F
0008+  A8AD FFFF1F1F2F2F181F1F0F
0009+  A8B7              ;Tile 3
0010+  A8B7 3D55950D0D3F .db $3D,$55,$95,$0D,$0D,$3F,$CF,$FF,$FD,$FD,$FD,$DD,$3D,$FE,$CC,$F8
0010+  A8BD CFFFFDFDFDDD3DFECCF8
0011+  A8C7              ;Tile 4
0012+  A8C7 FFF8F0E4CBC9 .db $FF,$F8,$F0,$E4,$CB,$C9,$E9,$F9,$07,$0F,$1C,$3F,$7B,$7B,$39,$19
0012+  A8CD E9F9070F1C3F7B7B3919
0013+  A8D7              ;Tile 5
0014+  A8D7 FF3F4F8F1F7F .db $FF,$3F,$4F,$8F,$1F,$7F,$AF,$27,$C0,$70,$C8,$9E,$3C,$F0,$AC,$24
0014+  A8DD AF27C070C89E3CF0AC24
0015+  A8E7              ;Tile 6
0016+  A8E7 FE9283BA8283 .db $FE,$92,$83,$BA,$82,$83,$C4,$FF,$FE,$93,$AB,$BA,$BA,$BB,$44,$3F
0016+  A8ED C4FFFE93ABBABABB443F
0017+  A8F7              ;Tile 7
0018+  A8F7 0F1FFF5F5FDF .db $0F,$1F,$FF,$5F,$5F,$DF,$7F,$FF,$18,$F0,$F0,$70,$50,$F0,$70,$F8
0018+  A8FD 7FFF18F0F07050F070F8
0019+  A907              ;Tile 8
0020+  A907 FFF8FBECEBEF .db $FF,$F8,$FB,$EC,$EB,$EF,$E7,$B2,$07,$0C,$1F,$2C,$2B,$2F,$7F,$B2
0020+  A90D E7B2070C1F2C2B2F7FB2
0021+  A917              ;Tile 9
0022+  A917 FF3F1F17D7F7 .db $FF,$3F,$1F,$17,$D7,$F7,$E7,$4F,$C0,$E0,$F8,$34,$D4,$F4,$FC,$48
0022+  A91D E74FC0E0F834D4F4FC48
0023+  A927              ;Tile 10
0024+  A927 B2A8AFA8B0FE .db $B2,$A8,$AF,$A8,$B0,$FE,$F1,$FF,$BA,$BC,$AF,$AF,$B8,$7F,$39,$1F
0024+  A92D F1FFBABCAFAFB87F391F
0025+  A937              ;Tile 11
0026+  A937 4F17F7474F3F .db $4F,$17,$F7,$47,$4F,$3F,$FF,$FF,$58,$3C,$FC,$CC,$48,$F0,$F8,$F0
0026+  A93D FFFF583CFCCC48F0F8F0
0027+  A947              ;Tile 12
0028+  A947 9FBFDF4F4FFF .db $9F,$BF,$DF,$4F,$4F,$FF,$1F,$FF,$B0,$F0,$F0,$78,$78,$F8,$10,$F8
0028+  A94D 1FFFB0F0F07878F810F8
0029+  A957              ;Tile 13
0030+  A957 FFFFFCFBECE8 .db $FF,$FF,$FC,$FB,$EC,$E8,$E8,$E8,$01,$03,$04,$1B,$2E,$2E,$2E,$3E
0030+  A95D E8E80103041B2E2E2E3E
0031+  A967              ;Tile 14
0032+  A967 FFFF3FDF3717 .db $FF,$FF,$3F,$DF,$37,$17,$57,$35,$C0,$E0,$20,$D8,$74,$74,$F6,$FD
0032+  A96D 5735C0E020D87474F6FD
0033+  A977              ;Tile 15
0034+  A977 FCEAE9F0F0FC .db $FC,$EA,$E9,$F0,$F0,$FC,$F3,$FF,$1F,$3F,$3F,$3B,$1C,$1F,$33,$1F
0034+  A97D F3FF1F3F3F3B1C1F331F
0035+  A987              ;Tile 16
0036+  A987 392929D9191B .db $39,$29,$29,$D9,$19,$1B,$FF,$FF,$FB,$FB,$FB,$FB,$1B,$FA,$FC,$F0
0036+  A98D FFFFFBFBFBFB1BFAFCF0
0037+  A997              ;Tile 17
0038+  A997 FFFFF0C0C4CB .db $FF,$FF,$F0,$C0,$C4,$CB,$E9,$E9,$00,$0F,$3E,$79,$7F,$7B,$3B,$39
0038+  A99D E9E9000F3E797F7B3B39
0039+  A9A7              ;Tile 18
0040+  A9A7 FFFF3F4F8F1F .db $FF,$FF,$3F,$4F,$8F,$1F,$7F,$AF,$00,$C0,$74,$CC,$9C,$38,$F0,$AC
0040+  A9AD 7FAF00C074CC9C38F0AC
0041+  A9B7              ;Tile 19
0042+  A9B7 FFC9C1DDC1C1 .db $FF,$C9,$C1,$DD,$C1,$C1,$E3,$FF,$7F,$49,$55,$5D,$5D,$5D,$23,$3F
0042+  A9BD E3FF7F49555D5D5D233F
0043+  A9C7              ;Tile 20
0044+  A9C7 270FFF3F3FFF .db $27,$0F,$FF,$3F,$3F,$FF,$0F,$FF,$24,$18,$F0,$20,$20,$F0,$08,$F8
0044+  A9CD 0FFF2418F02020F008F8
0045+  A9D7              ;Tile 21
0046+  A9D7 FFFCF8E8EBEF .db $FF,$FC,$F8,$E8,$EB,$EF,$E7,$F2,$03,$07,$1F,$2C,$2B,$2F,$3F,$F2
0046+  A9DD E7F203071F2C2B2F3FF2
0047+  A9E7              ;Tile 22
0048+  A9E7 FF1FDF37D7F7 .db $FF,$1F,$DF,$37,$D7,$F7,$E7,$4F,$E0,$30,$F8,$34,$D4,$F4,$FC,$48
0048+  A9ED E74FE030F834D4F4FC48
0049+  A9F7              ;Tile 23
0050+  A9F7 92888F8A8ACC .db $92,$88,$8F,$8A,$8A,$CC,$FF,$FF,$9A,$CC,$EF,$EB,$EA,$6F,$3F,$0F
0050+  A9FD FFFF9ACCEFEBEA6F3F0F
0051+  AA07              ;Tile 24
0052+  AA07 4F17F31B0F7F .db $4F,$17,$F3,$1B,$0F,$7F,$8F,$FF,$58,$3C,$FA,$FA,$1C,$F8,$9C,$F8
0052+  AA0D 8FFF583CFAFA1CF89CF8
0053+  AA17              ;Tile 25
0054+  AA17 9F9FFF9F9737 .db $9F,$9F,$FF,$9F,$97,$37,$E7,$FF,$98,$B0,$F0,$F8,$F4,$F4,$E4,$FE
0054+  AA1D E7FF98B0F0F8F4F4E4FE
0364   AA27             
0365   AA27             ;==========================================================
0366   AA27             ; other data includes
0367   AA27             ;==========================================================
0368   AA27             convert:
0369   AA27             #INCLUDE	convert.asm
0001+  AA27             ;=================================================
0002+  AA27             ; tiles to subtiles conversion
0003+  AA27             ;=================================================
0004+  AA27             
0005+  AA27             ;0 nothing
0006+  AA27 00 00 00 00 	.db	0,0,0,0
0007+  AA2B             ;1 grass
0008+  AA2B 05 00 00 05 	.db	5,0,0,5
0009+  AA2F             ;2 stones
0010+  AA2F 04 04 04 04 	.db	4,4,4,4
0011+  AA33             ;3 flowers with grass
0012+  AA33 14 05 05 16 	.db	20,5,5,22
0013+  AA37             ;4 tiles
0014+  AA37 07 07 07 07 	.db	7,7,7,7
0015+  AA3B             ;5 grass
0016+  AA3B 0A 0A 0A 0A 	.db	10,10,10,10
0017+  AA3F             ;6 tiles
0018+  AA3F 06 06 06 06 	.db	6,6,6,6
0019+  AA43             ;7 water
0020+  AA43 18 18 18 18 	.db	24,24,24,24
0021+  AA47             ;8
0022+  AA47 00 00 00 00 	.db	0,0,0,0
0023+  AA4B             ;9
0024+  AA4B 00 00 00 00 	.db	0,0,0,0
0025+  AA4F             ;10 two poles
0026+  AA4F 38 38 39 39 	.db	56,56,57,57
0027+  AA53             ;11 left rock
0028+  AA53 64 68 66 68 	.db	100,104,102,104
0029+  AA57             ;12 mid rock
0030+  AA57 67 68 67 68 	.db	103,104,103,104
0031+  AA5B             ;13 right rock
0032+  AA5B 67 65 67 69 	.db	103,101,103,105
0033+  AA5F             ;14 tree first part
0034+  AA5F 3A 3B 3E 3F 	.db	58,59,62,63
0035+  AA63             ;15 tree second part
0036+  AA63 3C 3D 40 41 	.db	60,61,64,65
0037+  AA67             ;16 tree third part
0038+  AA67 42 43 46 47 	.db	66,67,70,71
0039+  AA6B             ;17 tree fourth part
0040+  AA6B 44 45 48 49 	.db	68,69,72,73
0041+  AA6F             ;18 small roof
0042+  AA6F 59 59 58 58 	.db	89,89,88,88
0043+  AA73             ;19 window
0044+  AA73 52 53 50 51 	.db	82,83,80,81
0045+  AA77             ;20 house door
0046+  AA77 54 55 56 57 	.db	84,85,86,87
0047+  AA7B             ;21 roof southwest
0048+  AA7B 32 01 2F 30 	.db	50,1,47,48
0049+  AA7F             ;22 roof south
0050+  AA7F 01 01 30 30 	.db	1,1,48,48
0051+  AA83             ;23 roof southeast
0052+  AA83 01 33 30 31 	.db	1,51,48,49
0053+  AA87             ;24 roof northwest
0054+  AA87 2C 2D 32 01 	.db	44,45,50,1
0055+  AA8B             ;25 roof north
0056+  AA8B 2D 2D 01 01 	.db	45,45,1,1
0057+  AA8F             ;26 roof northeast
0058+  AA8F 2D 2E 01 33 	.db	45,46,1,51
0059+  AA93             ;27 
0060+  AA93 00 00 00 00 	.db	0,0,0,0
0061+  AA97             ;28
0062+  AA97 00 00 00 00 	.db	0,0,0,0
0063+  AA9B             ;29 border northwest
0064+  AA9B 5C 60 61 5A 	.db	92,96,97,90
0065+  AA9F             ;30 border north
0066+  AA9F 60 60 67 68 	.db	96,96,103,104
0067+  AAA3             ;31 border northeast
0068+  AAA3 60 5D 5B 61 	.db	96,93,91,97
0069+  AAA7             ;32 border southwest
0070+  AAA7 61 71 5E 60 	.db	97,113,94,96
0071+  AAAB             ;33 border south
0072+  AAAB 6C 6C 60 60 	.db	108,108,96,96
0073+  AAAF             ;34 border woutheast
0074+  AAAF 70 61 60 5F 	.db	112,97,96,95
0075+  AAB3             ;35 border left border
0076+  AAB3 61 6B 61 6B 	.db	97,107,97,107
0077+  AAB7             ;36 border right border
0078+  AAB7 6A 61 6A 61 	.db	106,97,106,97
0079+  AABB             ;37 tree left with tree behind
0080+  AABB 4A 3B 3E 3F 	.db	74,59,62,63
0081+  AABF             ;38 tree right with tree behind
0082+  AABF 3C 4B 40 41 	.db	60,75,64,65
0083+  AAC3             ;39 border up/right 1
0084+  AAC3 6A 5E 66 68 	.db	106,94,102,104
0085+  AAC7             ;40 border up/left 1
0086+  AAC7 5F 6B 67 69 	.db	95,107,103,105
0087+  AACB             ;41 border up/right 2
0088+  AACB 6A 5E 64 68 	.db	106,94,100,104
0089+  AACF             ;42 border up/left 2
0090+  AACF 5F 6B 67 65 	.db	95,107,103,101
0091+  AAD3             ;43 border end left
0092+  AAD3 4D 60 4F 68 	.db	77,96,79,104
0093+  AAD7             ;44 border end right
0094+  AAD7 60 4C 67 4E 	.db	96,76,103,78
0095+  AADB             ;45
0096+  AADB 00 00 00 00 	.db	0,0,0,0
0097+  AADF             ;46
0098+  AADF 00 00 00 00 	.db	0,0,0,0
0099+  AAE3             ;47 chimney/well
0100+  AAE3 34 35 36 37 	.db	52,53,54,55
0101+  AAE7             ;48 piece of wall front
0102+  AAE7 28 29 2A 2B 	.db	40,41,42,43
0103+  AAEB             ;49 piece of wall top
0104+  AAEB 28 29 28 29 	.db	40,41,40,41
0105+  AAEF             
0370   AAEF             map0:
0371   AAEF             #INCLUDE	map0.asm
0001+  AAEF             ;Map data - Graphics Studio
0002+  AAEF             
0003+  AAEF 291E1E1E1E1E .db $29,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E
0003+  AAF5 1E1E1E1E1E1E1E1E1E1E
0004+  AAFF 1E1E1E1E1E1E .db $1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E
0004+  AB05 1E1E1E1E1E1E1E1E1E1E
0005+  AB0F 1E1E1E1E1E1E .db $1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E
0005+  AB15 1E1E1E1E1E1E1E1E1E1E
0006+  AB1F 1E1E1E1E1E1E .db $1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$2A ;Row 0
0006+  AB25 1E1E1E1E1E2A
0007+  AB2B 0B0C0C0C0C0C .db $0B,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C
0007+  AB31 0C0C0C0C0C0C0C0C0C0C
0008+  AB3B 0C0C0C0C0C0C .db $0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C
0008+  AB41 0C0C0C0C0C0C0C0C0C0C
0009+  AB4B 0C0C0C0C0C0C .db $0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C
0009+  AB51 0C0C0C0C0C0C0C0C0C0C
0010+  AB5B 0C0C0C0C0C0C .db $0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0D ;Row 1
0010+  AB61 0C0C0C0C0C0D
0011+  AB67 1E1F00000000 .db $1E,$1F,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0011+  AB6D 00000000000000000000
0012+  AB77 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0012+  AB7D 00000000000000000000
0013+  AB87 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0013+  AB8D 00000000000000000000
0014+  AB97 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$1D ;Row 2
0014+  AB9D 00000000001D
0015+  ABA3 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0015+  ABA9 00000000000000000000
0016+  ABB3 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0016+  ABB9 00000000000000000000
0017+  ABC3 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0017+  ABC9 00000000000000000000
0018+  ABD3 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 3
0018+  ABD9 000000000023
0019+  ABDF 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0019+  ABE5 00000000000000000000
0020+  ABEF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0020+  ABF5 00000000000000000000
0021+  ABFF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0021+  AC05 00000000000000000000
0022+  AC0F 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 4
0022+  AC15 000000000023
0023+  AC1B 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0023+  AC21 00000000000000000000
0024+  AC2B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0024+  AC31 00000000000000000000
0025+  AC3B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0025+  AC41 00000000000000000000
0026+  AC4B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 5
0026+  AC51 000000000023
0027+  AC57 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0027+  AC5D 00000000000000000000
0028+  AC67 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0028+  AC6D 00000000000000000000
0029+  AC77 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0029+  AC7D 00000000000000000000
0030+  AC87 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 6
0030+  AC8D 000000000023
0031+  AC93 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0031+  AC99 00000000000000000000
0032+  ACA3 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0032+  ACA9 00000000000000000000
0033+  ACB3 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0033+  ACB9 00000000000000000000
0034+  ACC3 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 7
0034+  ACC9 000000000023
0035+  ACCF 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0035+  ACD5 00000000000000000000
0036+  ACDF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0036+  ACE5 00000000000000000000
0037+  ACEF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0037+  ACF5 00000000000000000000
0038+  ACFF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 8
0038+  AD05 000000000023
0039+  AD0B 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0039+  AD11 00000000000000000000
0040+  AD1B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0040+  AD21 00000000000000000000
0041+  AD2B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0041+  AD31 00000000000000000000
0042+  AD3B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 9
0042+  AD41 000000000023
0043+  AD47 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0043+  AD4D 00000000000000000000
0044+  AD57 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0044+  AD5D 00000000000000000000
0045+  AD67 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0045+  AD6D 00000000000000000000
0046+  AD77 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 10
0046+  AD7D 000000000023
0047+  AD83 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0047+  AD89 00000000000000000000
0048+  AD93 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0048+  AD99 00000000000000000000
0049+  ADA3 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0049+  ADA9 00000000000000000000
0050+  ADB3 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 11
0050+  ADB9 000000000023
0051+  ADBF 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0051+  ADC5 00000000000000000000
0052+  ADCF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0052+  ADD5 00000000000000000000
0053+  ADDF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0053+  ADE5 00000000000000000000
0054+  ADEF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 12
0054+  ADF5 000000000023
0055+  ADFB 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0055+  AE01 00000000000000000000
0056+  AE0B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0056+  AE11 00000000000000000000
0057+  AE1B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0057+  AE21 00000000000000000000
0058+  AE2B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 13
0058+  AE31 000000000023
0059+  AE37 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0059+  AE3D 00000000000000000000
0060+  AE47 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0060+  AE4D 00000000000000000000
0061+  AE57 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0061+  AE5D 00000000000000000000
0062+  AE67 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 14
0062+  AE6D 000000000023
0063+  AE73 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0063+  AE79 00000000000000000000
0064+  AE83 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0064+  AE89 00000000000000000000
0065+  AE93 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0065+  AE99 00000000000000000000
0066+  AEA3 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 15
0066+  AEA9 000000000023
0067+  AEAF 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$26,$11,$10,$11,$10,$11
0067+  AEB5 00000000261110111011
0068+  AEBF 10110E260000 .db $10,$11,$0E,$26,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0068+  AEC5 00000000000000000000
0069+  AECF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0069+  AED5 00000000000000000000
0070+  AEDF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 16
0070+  AEE5 000000000023
0071+  AEEB 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$11,$1D,$1E,$1E,$1F,$12
0071+  AEF1 00000000111D1E1E1F12
0072+  AEFB 121210250000 .db $12,$12,$10,$25,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0072+  AF01 00000000000000000000
0073+  AF0B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0073+  AF11 00000000000000000000
0074+  AF1B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 17
0074+  AF21 000000000023
0075+  AF27 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$0F,$23,$07,$07,$24,$13
0075+  AF2D 000000000F2307072413
0076+  AF37 13130E260000 .db $13,$13,$0E,$26,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0076+  AF3D 00000000000000000000
0077+  AF47 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0077+  AF4D 00000000000000000000
0078+  AF57 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 18
0078+  AF5D 000000000023
0079+  AF63 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$11,$23,$07,$07,$27,$1F
0079+  AF69 0000000011230707271F
0080+  AF73 050510250000 .db $05,$05,$10,$25,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0080+  AF79 00000000000000000000
0081+  AF83 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0081+  AF89 00000000000000000000
0082+  AF93 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 19
0082+  AF99 000000000023
0083+  AF9F 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$0F,$23,$07,$07,$07,$24
0083+  AFA5 000000000F2307070724
0084+  AFAF 01030E260000 .db $01,$03,$0E,$26,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0084+  AFB5 00000000000000000000
0085+  AFBF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0085+  AFC5 00000000000000000000
0086+  AFCF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 20
0086+  AFD5 000000000023
0087+  AFDB 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$11,$20,$21,$21,$21,$22
0087+  AFE1 00000000112021212122
0088+  AFEB 010110250000 .db $01,$01,$10,$25,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0088+  AFF1 00000000000000000000
0089+  AFFB 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0089+  B001 00000000000000000000
0090+  B00B 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 21
0090+  B011 000000000023
0091+  B017 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$0F,$01,$01,$03,$01,$01
0091+  B01D 000000000F0101030101
0092+  B027 01010E260000 .db $01,$01,$0E,$26,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0092+  B02D 00000000000000000000
0093+  B037 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0093+  B03D 00000000000000000000
0094+  B047 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 22
0094+  B04D 000000000023
0095+  B053 072400000000 .db $07,$24,$00,$00,$00,$00,$00,$00,$00,$00,$25,$0F,$01,$01,$01,$01
0095+  B059 00000000250F01010101
0096+  B063 010110250F00 .db $01,$01,$10,$25,$0F,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0096+  B069 00000000000000000000
0097+  B073 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
0097+  B079 00000000000000000000
0098+  B083 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 23
0098+  B089 000000000023
0099+  B08F 07240E26250F .db $07,$24,$0E,$26,$25,$0F,$01,$0E,$26,$25,$0F,$11,$01,$01,$01,$01
0099+  B095 010E26250F1101010101
0100+  B09F 01010E26110A .db $01,$01,$0E,$26,$11,$0A,$0B,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0A
0100+  B0A5 0B0C0C0C0C0C0C0C0C0A
0101+  B0AF 0C0C0D0A0A0A .db $0C,$0C,$0D,$0A,$0A,$0A,$0A,$0E,$00,$00,$00,$00,$00,$00,$00,$00
0101+  B0B5 0A0E0000000000000000
0102+  B0BF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 24
0102+  B0C5 000000000023
0103+  B0CB 072410252611 .db $07,$24,$10,$25,$26,$11,$01,$10,$25,$26,$11,$01,$01,$01,$01,$01
0103+  B0D1 01102526110101010101
0104+  B0DB 010110250F01 .db $01,$01,$10,$25,$0F,$01,$04,$04,$04,$04,$04,$04,$04,$01,$01,$02
0104+  B0E1 04040404040404010102
0105+  B0EB 010101010301 .db $01,$01,$01,$01,$03,$01,$01,$10,$00,$00,$00,$00,$00,$00,$00,$00
0105+  B0F1 01100000000000000000
0106+  B0FB 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 25
0106+  B101 000000000023
0107+  B107 07240E261105 .db $07,$24,$0E,$26,$11,$05,$0A,$01,$10,$25,$0F,$01,$0E,$0F,$01,$03
0107+  B10D 0A0110250F010E0F0103
0108+  B117 010101101101 .db $01,$01,$01,$10,$11,$01,$04,$04,$03,$03,$03,$04,$04,$01,$01,$02
0108+  B11D 04040303030404010102
0109+  B127 010303030102 .db $01,$03,$03,$03,$01,$02,$02,$0A,$00,$00,$00,$00,$00,$00,$00,$00
0109+  B12D 020A0000000000000000
0110+  B137 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 26
0110+  B13D 000000000023
0111+  B143 072410110501 .db $07,$24,$10,$11,$05,$01,$01,$01,$0E,$26,$11,$01,$10,$11,$01,$01
0111+  B149 01010E26110110110101
0112+  B153 0101010E0F01 .db $01,$01,$01,$0E,$0F,$01,$04,$03,$04,$00,$04,$03,$04,$01,$01,$02
0112+  B159 04030400040304010102
0113+  B163 0318191A0302 .db $03,$18,$19,$1A,$03,$02,$01,$0E,$00,$00,$00,$00,$00,$00,$00,$00
0113+  B169 010E0000000000000000
0114+  B173 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 27
0114+  B179 000000000023
0115+  B17F 07240E0F0501 .db $07,$24,$0E,$0F,$05,$01,$01,$01,$10,$25,$0F,$01,$01,$01,$01,$0E
0115+  B185 010110250F010101010E
0116+  B18F 0F0101101101 .db $0F,$01,$01,$10,$11,$01,$04,$03,$04,$00,$04,$03,$04,$01,$01,$02
0116+  B195 04030400040304010102
0117+  B19F 031516170302 .db $03,$15,$16,$17,$03,$02,$01,$10,$00,$00,$00,$00,$00,$00,$00,$00
0117+  B1A5 01100000000000000000
0118+  B1AF 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 28
0118+  B1B5 000000000023
0119+  B1BB 072410110101 .db $07,$24,$10,$11,$01,$01,$01,$01,$0E,$26,$11,$01,$01,$03,$01,$10
0119+  B1C1 01010E26110101030110
0120+  B1CB 1101010E0F01 .db $11,$01,$01,$0E,$0F,$01,$04,$03,$04,$04,$04,$03,$04,$01,$01,$02
0120+  B1D1 04030404040304010102
0121+  B1DB 031314130302 .db $03,$13,$14,$13,$03,$02,$01,$0E,$00,$00,$00,$00,$00,$00,$00,$00
0121+  B1E1 010E0000000000000000
0122+  B1EB 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 29
0122+  B1F1 000000000023
0123+  B1F7 07240E0F0101 .db $07,$24,$0E,$0F,$01,$01,$02,$03,$10,$25,$0F,$01,$01,$01,$01,$01
0123+  B1FD 020310250F0101010101
0124+  B207 01010E261101 .db $01,$01,$0E,$26,$11,$01,$04,$04,$03,$03,$03,$04,$04,$02,$02,$02
0124+  B20D 04040303030404020202
0125+  B217 020202020202 .db $02,$02,$02,$02,$02,$02,$01,$10,$00,$00,$00,$00,$00,$00,$00,$00
0125+  B21D 01100000000000000000
0126+  B227 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 30
0126+  B22D 000000000023
0127+  B233 072410110101 .db $07,$24,$10,$11,$01,$01,$02,$05,$0E,$26,$25,$0F,$0E,$0F,$01,$01
0127+  B239 02050E26250F0E0F0101
0128+  B243 010E26250F01 .db $01,$0E,$26,$25,$0F,$01,$04,$04,$04,$04,$04,$04,$04,$01,$01,$01
0128+  B249 04040404040404010101
0129+  B253 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$0E,$00,$00,$00,$00,$00,$00,$00,$00
0129+  B259 010E0000000000000000
0130+  B263 000000000000 .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$23 ;Row 31
0130+  B269 000000000023
0131+  B26F 07240E0F0101 .db $07,$24,$0E,$0F,$01,$01,$02,$05,$10,$11,$10,$11,$10,$11,$05,$05
0131+  B275 02051011101110110505
0132+  B27F 051011101101 .db $05,$10,$11,$10,$11,$01,$01,$01,$01,$01,$01,$01,$01,$01,$05,$05
0132+  B285 01010101010101010505
0133+  B28F 050505050505 .db $05,$05,$05,$05,$05,$05,$05,$10,$01,$01,$01,$01,$01,$01,$01,$01
0133+  B295 05100101010101010101
0134+  B29F 011001010101 .db $01,$10,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 32
0134+  B2A5 010101010123
0135+  B2AB 072410110101 .db $07,$24,$10,$11,$01,$01,$02,$02,$02,$02,$02,$02,$18,$19,$1A,$05
0135+  B2B1 02020202020218191A05
0136+  B2BB 010101010101 .db $01,$01,$01,$01,$01,$01,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$01,$05,$05
0136+  B2C1 0A0A0A0A0A0A0A010505
0137+  B2CB 050505050505 .db $05,$05,$05,$05,$05,$05,$05,$0E,$01,$01,$01,$01,$01,$01,$01,$01
0137+  B2D1 050E0101010101010101
0138+  B2DB 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 33
0138+  B2E1 010101010123
0139+  B2E7 07242B1F0303 .db $07,$24,$2B,$1F,$03,$03,$03,$1D,$2C,$01,$01,$02,$15,$16,$17,$12
0139+  B2ED 031D2C01010215161712
0140+  B2F7 030101010101 .db $03,$01,$01,$01,$01,$01,$0A,$05,$05,$05,$05,$0E,$0F,$01,$05,$05
0140+  B2FD 0A050505050E0F010505
0141+  B307 050505050505 .db $05,$05,$05,$05,$05,$05,$05,$10,$01,$01,$01,$01,$01,$01,$01,$01
0141+  B30D 05100101010101010101
0142+  B317 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 34
0142+  B31D 010101010123
0143+  B323 072401291E1E .db $07,$24,$01,$29,$1E,$1E,$1E,$2A,$03,$01,$01,$02,$13,$14,$13,$14
0143+  B329 1E2A0301010213141314
0144+  B333 0A0501010103 .db $0A,$05,$01,$01,$01,$03,$0A,$05,$12,$12,$12,$10,$11,$01,$05,$05
0144+  B339 0A051212121011010505
0145+  B343 050505050505 .db $05,$05,$05,$05,$05,$05,$05,$0E,$01,$01,$01,$01,$01,$01,$01,$01
0145+  B349 050E0101010101010101
0146+  B353 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 35
0146+  B359 010101010123
0147+  B35F 0724010B0C0C .db $07,$24,$01,$0B,$0C,$0C,$0C,$0D,$03,$01,$01,$02,$02,$02,$0A,$05
0147+  B365 0C0D0301010202020A05
0148+  B36F 050505010101 .db $05,$05,$05,$01,$01,$01,$0A,$05,$13,$14,$13,$05,$0A,$01,$05,$05
0148+  B375 0A05131413050A010505
0149+  B37F 050505050505 .db $05,$05,$05,$05,$05,$05,$05,$10,$01,$01,$01,$01,$01,$01,$01,$01
0149+  B385 05100101010101010101
0150+  B38F 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 36
0150+  B395 010101010123
0151+  B39B 072401010A2F .db $07,$24,$01,$01,$0A,$2F,$0A,$01,$01,$01,$01,$01,$03,$05,$05,$05
0151+  B3A1 0A010101010103050505
0152+  B3AB 050501010101 .db $05,$05,$01,$01,$01,$01,$0A,$05,$05,$02,$05,$05,$0A,$01,$05,$05
0152+  B3B1 0A05050205050A010505
0153+  B3BB 050505050505 .db $05,$05,$05,$05,$05,$05,$05,$0E,$01,$01,$01,$01,$01,$01,$01,$01
0153+  B3C1 050E0101010101010101
0154+  B3CB 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 37
0154+  B3D1 010101010123
0155+  B3D7 072403010A01 .db $07,$24,$03,$01,$0A,$01,$0A,$02,$02,$02,$02,$02,$01,$01,$01,$01
0155+  B3DD 0A020202020201010101
0156+  B3E7 010103010101 .db $01,$01,$03,$01,$01,$01,$0A,$0A,$0A,$02,$0A,$0A,$0A,$01,$05,$05
0156+  B3ED 0A0A0A020A0A0A010505
0157+  B3F7 050505050505 .db $05,$05,$05,$05,$05,$05,$05,$10,$01,$01,$01,$01,$01,$01,$01,$01
0157+  B3FD 05100101010101010101
0158+  B407 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 38
0158+  B40D 010101010123
0159+  B413 072401010101 .db $07,$24,$01,$01,$01,$01,$01,$02,$01,$0E,$0F,$02,$02,$02,$02,$02
0159+  B419 0102010E0F0202020202
0160+  B423 020202020202 .db $02,$02,$02,$02,$02,$02,$02,$02,$02,$02,$01,$01,$01,$01,$05,$05
0160+  B429 02020202010101010505
0161+  B433 050505050505 .db $05,$05,$05,$05,$05,$05,$05,$0E,$01,$01,$01,$01,$01,$01,$01,$01
0161+  B439 050E0101010101010101
0162+  B443 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 39
0162+  B449 010101010123
0163+  B44F 072403010101 .db $07,$24,$03,$01,$01,$01,$01,$02,$01,$10,$11,$01,$01,$01,$01,$01
0163+  B455 01020110110101010101
0164+  B45F 010301010101 .db $01,$03,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$05,$05
0164+  B465 01010101010101010505
0165+  B46F 050505050505 .db $05,$05,$05,$05,$05,$05,$05,$10,$01,$01,$01,$01,$01,$01,$01,$01
0165+  B475 05100101010101010101
0166+  B47F 011001010101 .db $01,$10,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 40
0166+  B485 010101010123
0167+  B48B 072412121201 .db $07,$24,$12,$12,$12,$01,$01,$02,$01,$0E,$0F,$01,$01,$03,$01,$01
0167+  B491 0102010E0F0101030101
0168+  B49B 010101010101 .db $01,$01,$01,$01,$01,$01,$04,$04,$04,$04,$04,$04,$04,$01,$01,$01
0168+  B4A1 04040404040404010101
0169+  B4AB 01010A0A0A01 .db $01,$01,$0A,$0A,$0A,$01,$1D,$1E,$01,$01,$01,$01,$01,$01,$01,$01
0169+  B4B1 1D1E0101010101010101
0170+  B4BB 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 41
0170+  B4C1 010101010123
0171+  B4C7 072413141301 .db $07,$24,$13,$14,$13,$01,$01,$02,$01,$10,$11,$31,$30,$30,$30,$30
0171+  B4CD 01020110113130303030
0172+  B4D7 303101010301 .db $30,$31,$01,$01,$03,$01,$04,$06,$06,$06,$06,$06,$04,$01,$01,$01
0172+  B4DD 04060606060604010101
0173+  B4E7 010A18191A0A .db $01,$0A,$18,$19,$1A,$0A,$23,$00,$01,$01,$01,$01,$01,$01,$01,$01
0173+  B4ED 23000101010101010101
0174+  B4F7 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 42
0174+  B4FD 010101010123
0175+  B503 072401010101 .db $07,$24,$01,$01,$01,$01,$02,$02,$03,$0E,$0F,$30,$05,$18,$2F,$1A
0175+  B509 0202030E0F3005182F1A
0176+  B513 053001030101 .db $05,$30,$01,$03,$01,$01,$04,$06,$0E,$12,$0F,$06,$04,$01,$01,$01
0176+  B519 04060E120F0604010101
0177+  B523 010A1516170A .db $01,$0A,$15,$16,$17,$0A,$23,$00,$01,$01,$01,$01,$01,$01,$01,$01
0177+  B529 23000101010101010101
0178+  B533 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 43
0178+  B539 010101010123
0179+  B53F 072401010102 .db $07,$24,$01,$01,$01,$02,$02,$01,$03,$10,$11,$01,$05,$15,$16,$17
0179+  B545 02010310110105151617
0180+  B54F 050101010101 .db $05,$01,$01,$01,$01,$01,$04,$06,$10,$14,$11,$06,$04,$01,$01,$01
0180+  B555 04061014110604010101
0181+  B55F 010A1314130A .db $01,$0A,$13,$14,$13,$0A,$23,$00,$01,$01,$01,$01,$01,$01,$01,$01
0181+  B565 23000101010101010101
0182+  B56F 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 44
0182+  B575 010101010123
0183+  B57B 072401010102 .db $07,$24,$01,$01,$01,$02,$01,$01,$03,$0E,$0F,$01,$05,$13,$14,$13
0183+  B581 0101030E0F0105131413
0184+  B58B 050101010101 .db $05,$01,$01,$01,$01,$01,$04,$06,$06,$06,$06,$06,$04,$01,$01,$01
0184+  B591 04060606060604010101
0185+  B59B 010A0101010A .db $01,$0A,$01,$01,$01,$0A,$23,$00,$01,$01,$01,$01,$01,$01,$01,$01
0185+  B5A1 23000101010101010101
0186+  B5AB 010101010101 .db $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 45
0186+  B5B1 010101010123
0187+  B5B7 072401010102 .db $07,$24,$01,$01,$01,$02,$01,$01,$0E,$26,$25,$0F,$01,$01,$01,$01
0187+  B5BD 01010E26250F01010101
0188+  B5C7 010103010103 .db $01,$01,$03,$01,$01,$03,$04,$04,$04,$04,$04,$04,$04,$01,$01,$01
0188+  B5CD 04040404040404010101
0189+  B5D7 01010A0A0E0F .db $01,$01,$0A,$0A,$0E,$0F,$23,$00,$01,$01,$01,$01,$01,$01,$01,$01
0189+  B5DD 23000101010101010101
0190+  B5E7 011001010101 .db $01,$10,$01,$01,$01,$01,$01,$01,$01,$01,$01,$23 ;Row 46
0190+  B5ED 010101010123
0191+  B5F3 07291E1E1E1E .db $07,$29,$1E,$1E,$1E,$1E,$1E,$0E,$26,$25,$0F,$25,$0F,$0E,$0F,$0E
0191+  B5F9 1E0E26250F250F0E0F0E
0192+  B603 0F0E0F0E0F0E .db $0F,$0E,$0F,$0E,$0F,$0E,$0F,$0E,$0F,$0E,$0F,$0E,$0F,$0E,$0F,$0E
0192+  B609 0F0E0F0E0F0E0F0E0F0E
0193+  B613 0F0E0F0E2611 .db $0F,$0E,$0F,$0E,$26,$11,$20,$21,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E
0193+  B619 20211E1E1E1E1E1E1E1E
0194+  B623 1E1E1E1E1E1E .db $1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$28 ;Row 47
0194+  B629 1E1E1E1E1E28
0372   B62F             #INCLUDE	tempdat.asm
0001+  B62F             
0002+  B62F             ;==========================================================
0003+  B62F             ; submap
0004+  B62F             ;==========================================================
0005+  B62F             ; this is the map where the subtiles are stored
0006+  B62F             ; 20*16=320 bytes
0007+  B62F 7375626D6170	.db "submap  "
0007+  B635 2020
0008+  B637             
0009+  B637             submap:
0010+  B637 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0010+  B63D 0000000000000000000000000000
0011+  B64B 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0011+  B651 0000000000000000000000000000
0012+  B65F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0012+  B665 0000000000000000000000000000
0013+  B673 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0013+  B679 0000000000000000000000000000
0014+  B687 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0014+  B68D 0000000000000000000000000000
0015+  B69B 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0015+  B6A1 0000000000000000000000000000
0016+  B6AF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0016+  B6B5 0000000000000000000000000000
0017+  B6C3 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0017+  B6C9 0000000000000000000000000000
0018+  B6D7 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0018+  B6DD 0000000000000000000000000000
0019+  B6EB 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0019+  B6F1 0000000000000000000000000000
0020+  B6FF 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0020+  B705 0000000000000000000000000000
0021+  B713 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0021+  B719 0000000000000000000000000000
0022+  B727 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0022+  B72D 0000000000000000000000000000
0023+  B73B 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0023+  B741 0000000000000000000000000000
0024+  B74F 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0024+  B755 0000000000000000000000000000
0025+  B763 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0025+  B769 0000000000000000000000000000
0026+  B777             
0027+  B777             monstersExist:
0028+  B777 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0028+  B77D 00000000000000000000
0029+  B787             monstersHealth:
0030+  B787 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0030+  B78D 00000000000000000000
0031+  B797             monstersSort:
0032+  B797 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0032+  B79D 00000000000000000000
0033+  B7A7             
0373   B7A7             
0374   B7A7             .end
0375   B7A7             END
tasm: Number of errors = 0
