0001   0000             #define TI83 
0002   0000             ;==========================================================
0003   0000             ;Header
0004   0000             ;==========================================================
0010   0000                     .list
0011   0000             
0012   0000~            #ifdef  TI83P
0013   0000~                    .org    progstart-2
0014   0000~                    .db     $BB,$6D
0015   0000             #else
0016   9327                     .org    progstart
0017   9327             #endif
0018   9327 C9                  ret
0019   9328 30 13               jr      nc,start_of_program
0020   932A 496E74657272        .db     "Interrupt Template",0
0020   9330 7570742054656D706C61746500
0021   933D             
0022   933D             start_of_program:
0023   933D             
0024   933D             ;==========================================================
0025   933D             ; start of program
0026   933D             ;==========================================================
0027   933D CD 16 94    	call gsEnable
0028   9340             
0029   9340             	;
0030   9340             	;your code here
0031   9340             	;
0032   9340             
0033   9340             quit:
0034   9340 CD 47 94    	call gsDisable
0035   9343 C9          	ret
0036   9344             
0037   9344             ;==========================================================
0038   9344             ; grayscale include file
0039   9344             ;==========================================================
0040   9344             ; comment these defines in or out to activate/deactivate them
0041   9344             
0042   9344             ;#DEFINE NODOUBLEBUFFER	;when on,routines write directly to screen (faster and smaller)
0043   9344             ;#DEFINE 3LEVELGRAY	;makes it 3-level grayscale (a bit faster)
0044   9344             ;#DEFINE GETK		;when on, includes the gs_getk routine
0045   9344             
0046   9344             #DEFINE XORSPRITE	;includes the putSprite routine
0047   9344             #DEFINE LARGESPRITE	;includes the putLargeSprite routine
0048   9344             
0049   9344             #include duckgray.inc
0001+  9344             ;==========================================================
0002+  9344             ; GRAYSCALE INCLUDE FILE
0003+  9344             ;==========================================================
0004+  9344             ; 11:20 10-11-2002
0005+  9344             ;
0006+  9344             ; by Duck (DP Kingma)
0007+  9344             ; works under ion 83-/83+
0008+  9344             ;
0009+  9344             ; ==DEVELOPER NOTES==
0010+  9344             ;
0011+  9344             ; gsPutSprite	=xor sprite
0012+  9344             ; gsLargeSprite	=large sprite
0013+  9344             ; gsEnable		=enable grayscale
0014+  9344             ; gsDisable		=disable grayscale
0015+  9344             ; gsClearbuffer		=clear buffers
0016+  9344             ; gsCopybuffer		=copies buffers to active buffers (so screen)
0017+  9344             ; gsGetk		=tried to make is same as romcall _getk
0018+  9344             ; (grayscale routines)	=the grayscale interrupts, dont activate them yourself ;)
0019+  9344             ;
0020+  9344             ; look at duckgray.txt for information about development!
0021+  9344             
0022+  9344             
0023+  9344             ; interrupt frequency
0024+  9344             ; can be 2, 4 and 6
0025+  9344             interfrequency	= 2
0026+  9344             
0027+  9344             gbuf1	= gbuf
0028+  9344             gbuf2	= saferam1
0029+  9344             
0030+  9344~            #ifdef NODOUBLEBUFFER
0031+  9344~            gActivebuf1 = gbuf
0032+  9344~            gActivebuf2 = gbuf
0033+  9344             #endif 
0034+  9344             
0035+  9344             #ifdef XORSPRITE
0036+  9344             ;==========================================================
0037+  9344             ; gsPutSprite
0038+  9344             ;==========================================================
0039+  9344             ;=== gsPutSprite 1.0 by Durk Kingma
0040+  9344             ;thanks to Joe Wingbermuehle for his ionPutSprite routine
0041+  9344             ;
0042+  9344             ; puts XOR grayscale sprite
0043+  9344             ; b=size of sprite
0044+  9344             ; l=yc
0045+  9344             ; a=xc
0046+  9344             ; ix holds pointer
0047+  9344             gsPutSprite:
0048+  9344             
0049+  9344 F5          	push af
0050+  9345 E5          	push hl
0051+  9346 C5          	push bc
0052+  9347             
0053+  9347 CD AD 91    	call	ionPutSprite
0054+  934A             
0055+  934A C1          	pop bc
0056+  934B E1          	pop hl
0057+  934C F1          	pop af
0058+  934D             
0059+  934D 5D          	ld	e,l
0060+  934E 26 00       	ld	h,$00
0061+  9350 54          	ld	d,h
0062+  9351 19          	add	hl,de
0063+  9352 19          	add	hl,de
0064+  9353 29          	add	hl,hl
0065+  9354 29          	add	hl,hl
0066+  9355 5F          	ld	e,a
0067+  9356 E6 07       	and	$07
0068+  9358 4F          	ld	c,a
0069+  9359 CB 3B       	srl	e
0070+  935B CB 3B       	srl	e
0071+  935D CB 3B       	srl	e
0072+  935F 19          	add	hl,de
0073+  9360 11 65 82    	ld	de,gbuf2
0074+  9363 19          	add	hl,de
0075+  9364             gsPutSpriteLoop1:
0076+  9364 DD 56 00    pgxs_sl1:	ld	d,(ix)
0077+  9367 1E 00       	ld	e,$00
0078+  9369 79          	ld	a,c
0079+  936A B7          	or	a
0080+  936B 28 07       	jr	z,gsPutSpriteSkip1
0081+  936D             gsPutSpriteLoop2:
0082+  936D CB 3A       	srl	d
0083+  936F CB 1B       	rr	e
0084+  9371 3D          	dec	a
0085+  9372 20 F9       	jr	nz,gsPutSpriteLoop2
0086+  9374             gsPutSpriteSkip1:
0087+  9374 7E          	ld	a,(hl)
0088+  9375 AA          	xor	d
0089+  9376 77          	ld	(hl),a
0090+  9377 23          	inc	hl
0091+  9378 7E          	ld	a,(hl)
0092+  9379 AB          	xor	e
0093+  937A 77          	ld	(hl),a
0094+  937B 11 0B 00    	ld	de,$0B
0095+  937E 19          	add	hl,de
0096+  937F DD 23       	inc	ix
0097+  9381 10 E1       	djnz	gsPutSpriteLoop1
0098+  9383             
0099+  9383 C9          	ret
0100+  9384             #endif
0101+  9384             
0102+  9384             #ifdef LARGESPRITE
0103+  9384             ;==========================================================
0104+  9384             ; gsLargeSprite
0105+  9384             ;==========================================================
0106+  9384             ;=== gsLargeSprite 1.0 by Durk Kingma
0107+  9384             ;thanks to Joe Wingbermuehle for his ionPutSprite routine
0108+  9384             ;
0109+  9384             ; puts large Grayscale sprite
0110+  9384             ; b=size of sprite
0111+  9384             ; l=yc
0112+  9384             ; a=xc
0113+  9384             ; ix holds pointer
0114+  9384             ;-----> Draw a picture
0115+  9384             ;Input:	ix->sprite
0116+  9384             ;	a=x
0117+  9384             ;	l=y
0118+  9384             ;	b=height	(in pixels)
0119+  9384             ;	c=width		(in bytes, e.g. 2 would be 16)
0120+  9384             ;Output: nothing
0121+  9384             ; All registers are destroyed except bc', de', hl'
0122+  9384             gsLargeSprite:
0123+  9384             
0124+  9384 C9          	ret
0125+  9385             
0126+  9385 F5          	push af
0127+  9386 E5          	push hl
0128+  9387 C5          	push bc
0129+  9388             
0130+  9388 CD B0 91    	call ionLargeSprite
0131+  938B             
0132+  938B C1          	pop bc
0133+  938C E1          	pop hl
0134+  938D F1          	pop af
0135+  938E             
0136+  938E F3          	di
0137+  938F 08          	ex	af,af'
0138+  9390 79          	ld	a,c
0139+  9391 F5          	push	af
0140+  9392 08          	ex	af,af'
0141+  9393 5D          	ld	e,l
0142+  9394 26 00       	ld	h,$00
0143+  9396 54          	ld	d,h
0144+  9397 19          	add	hl,de ;x12
0145+  9398 19          	add	hl,de ;
0146+  9399 29          	add	hl,hl ;
0147+  939A 29          	add	hl,hl ;
0148+  939B 5F          	ld	e,a
0149+  939C E6 07       	and	$07
0150+  939E 4F          	ld	c,a
0151+  939F CB 3B       	srl	e
0152+  93A1 CB 3B       	srl	e
0153+  93A3 CB 3B       	srl	e
0154+  93A5 19          	add	hl,de
0155+  93A6 11 65 82    	ld	de,gbuf2
0156+  93A9 19          	add	hl,de
0157+  93AA             gsLargeSpriteLoop1:
0158+  93AA E5          	push	hl
0159+  93AB             gsLargeSpriteLoop2:
0160+  93AB DD 56 00    	ld	d,(ix)
0161+  93AE 1E 00       	ld	e,$00
0162+  93B0 79          	ld	a,c
0163+  93B1 B7          	or	a
0164+  93B2 28 07       	jr	z,gsLargeSpriteSkip1
0165+  93B4             gsLargeSpriteLoop3:
0166+  93B4 CB 3A       	srl	d
0167+  93B6 CB 1B       	rr	e
0168+  93B8 3D          	dec	a
0169+  93B9 20 F9       	jr	nz,gsLargeSpriteLoop3
0170+  93BB             gsLargeSpriteSkip1:
0171+  93BB 7E          	ld	a,(hl)
0172+  93BC AA          	xor	d
0173+  93BD 77          	ld	(hl),a
0174+  93BE 23          	inc	hl
0175+  93BF 7E          	ld	a,(hl)
0176+  93C0 AB          	xor	e
0177+  93C1 77          	ld	(hl),a
0178+  93C2 DD 23       	inc	ix
0179+  93C4 08          	ex	af,af'
0180+  93C5 3D          	dec	a
0181+  93C6 F5          	push	af
0182+  93C7 08          	ex	af,af'
0183+  93C8 F1          	pop	af
0184+  93C9 20 E0       	jr	nz,gsLargeSpriteLoop2
0185+  93CB E1          	pop	hl
0186+  93CC F1          	pop	af
0187+  93CD F5          	push	af
0188+  93CE 08          	ex	af,af'
0189+  93CF 11 0C 00    	ld	de,$0C
0190+  93D2 19          	add	hl,de
0191+  93D3 10 D5       	djnz	gsLargeSpriteLoop1
0192+  93D5 F1          	pop	af
0193+  93D6             
0194+  93D6             
0195+  93D6 3E 02       	ld a,interfrequency \ out ($04),a
0195+  93D8 D3 04       
0196+  93DA 3E 08       	ld a,$08 \ out ($03),a
0196+  93DC D3 03       
0197+  93DE 3E 0A       	ld a,$0A \ out ($03),a
0197+  93E0 D3 03       
0198+  93E2 FB          	ei
0199+  93E3 C9          	ret
0200+  93E4             #endif
0201+  93E4             
0202+  93E4             ;==========================================================
0203+  93E4             ; gsClearbuffer
0204+  93E4             ;==========================================================
0205+  93E4             gsClearbuffer:
0206+  93E4 21 29 8E    	ld hl,gbuf1
0207+  93E7 11 2A 8E    	ld de,gbuf1+1
0208+  93EA 01 00 03    	ld bc,768
0209+  93ED 36 00       	ld (hl),0
0210+  93EF ED B0       	ldir
0211+  93F1 21 65 82    	ld hl,gbuf2
0212+  93F4 11 66 82    	ld de,gbuf2+1
0213+  93F7 01 00 03    	ld bc,768
0214+  93FA 36 00       	ld (hl),0
0215+  93FC ED B0       	ldir
0216+  93FE C9          	ret
0217+  93FF             
0218+  93FF             ;==========================================================
0219+  93FF             ; gsCopyBuffer
0220+  93FF             ;==========================================================
0221+  93FF             gsCopybuffer:
0222+  93FF             #ifndef NODOUBLEBUFFER
0223+  93FF 21 29 8E    	ld hl,gbuf1
0224+  9402 11 80 95    	ld de,gActivebuf1
0225+  9405 01 00 03    	ld bc,768
0226+  9408 ED B0       	ldir
0227+  940A 21 65 82    	ld hl,gbuf2
0228+  940D 11 80 98    	ld de,gActivebuf2
0229+  9410 01 00 03    	ld bc,768
0230+  9413 ED B0       	ldir
0231+  9415             #endif
0232+  9415 C9          	ret
0233+  9416             
0234+  9416             ;==========================================================
0235+  9416             ; gsEnable
0236+  9416             ;==========================================================
0237+  9416             gsEnable:
0238+  9416 CD E4 93            call    gsClearbuffer          ; clear buffers
0239+  9419             
0240+  9419 21 00 87    	ld hl,8700h
0241+  941C 11 01 87    	ld de,8700h+1
0242+  941F 01 01 01    	ld bc,257
0243+  9422 36 86       	ld (hl),86h
0244+  9424 ED B0       	ldir
0245+  9426             
0246+  9426 21 50 94    	ld hl,interrupt_start
0247+  9429 11 86 86    	ld de,8686h
0248+  942C 01 03 00    	ld bc,INTERRUPT_end-interrupt_start
0249+  942F ED B0       	ldir
0250+  9431 3E 87       	ld a,87h
0251+  9433 ED 47       	ld i,a
0252+  9435             
0253+  9435 ED 5E       	im 2
0254+  9437             
0255+  9437 3E 02       	ld a,interfrequency \ out ($04),a
0255+  9439 D3 04       
0256+  943B 3E 08       	ld a,$08 \ out ($03),a
0256+  943D D3 03       
0257+  943F 3E 0A       	ld a,$0A \ out ($03),a
0257+  9441 D3 03       
0258+  9443 FB          	ei
0259+  9444             
0260+  9444 C9          	ret
0261+  9445             gsNotenoughram:
0262+  9445 F1          	pop af
0263+  9446 C9          	ret
0264+  9447             
0265+  9447             ;==========================================================
0266+  9447             ; gsDisable
0267+  9447             ;==========================================================
0268+  9447             gsDisable:
0269+  9447 F3          	di
0270+  9448 ED 56       	im 1
0271+  944A 3E 06       	ld a,6 \ out ($04),a
0271+  944C D3 04       
0272+  944E FB          	ei
0273+  944F C9          	ret
0274+  9450             
0275+  9450             ;==========================================================
0276+  9450             ; interrupt
0277+  9450             ;==========================================================
0278+  9450             interrupt_start:
0279+  9450~            #ifdef 3LEVELGRAY
0280+  9450~            	jp draw3levelGrayscale
0281+  9450             #else
0282+  9450 C3 CA 94    	jp draw4levelGrayscale
0283+  9453             #endif
0284+  9453             interrupt_end:
0285+  9453             
0286+  9453             ;==========================================================
0287+  9453             ; draw3levelGrayScale INTERRUPT
0288+  9453             ;==========================================================
0289+  9453             draw3levelGrayscale:
0290+  9453             
0291+  9453 F5          	push af \ push bc \ push de \ push hl
0291+  9454 C5          
0291+  9455 D5          
0291+  9456 E5          
0292+  9457             	
0293+  9457             grayFastCopy:
0294+  9457 3E 80       	ld	a,$80
0295+  9459 D3 10       	out	($10),a
0296+  945B             
0297+  945B             
0298+  945B D9          	exx
0299+  945C 21 73 9B    	ld	hl,gActivebuf2-12-(-(12*64)+1)
0300+  945F 3A C9 94    	ld	a,(grayvar)
0301+  9462 47          	ld	b,a
0302+  9463 2F          	cpl
0303+  9464 4F          	ld	c,a
0304+  9465 D9          	exx
0305+  9466             
0306+  9466 21 73 98    	ld	hl,gActivebuf1-12-(-(12*64)+1)
0307+  9469 3E 20       	ld	a,$20
0308+  946B 4F          	ld	c,a
0309+  946C             
0310+  946C             grayFastCopyAgain:
0311+  946C             
0312+  946C             
0313+  946C 06 10       	ld	b,16
0314+  946E             
0315+  946E             	;=== x-loop
0316+  946E 0C          	inc	c
0317+  946F 11 01 FD    	ld	de,-(12*64)+1
0318+  9472 D3 10       	out	($10),a
0319+  9474 19          	add	hl,de
0320+  9475 11 0C 00    	ld	de,12
0321+  9478             
0322+  9478 D9          	exx	
0323+  9479 11 01 FD    	ld	de,-(12*64)+1
0324+  947C 19          	add	hl,de
0325+  947D 11 0C 00    	ld	de,12
0326+  9480 D9          	exx
0327+  9481             
0328+  9481             grayFastCopyLoop:
0329+  9481             	;===y-loop
0330+  9481 D9          	exx
0331+  9482 19          	add	hl,de
0332+  9483 7E          	ld	a,(hl)
0333+  9484 A0          	and	b
0334+  9485 D9          	exx
0335+  9486 19          	add	hl,de
0336+  9487 B6          	or	(hl)
0337+  9488 D3 11       	out	($11),a
0338+  948A             
0339+  948A 03          	inc bc ; 6 waste
0340+  948B             
0341+  948B D9          	exx
0342+  948C 19          	add	hl,de
0343+  948D 7E          	ld	a,(hl)
0344+  948E A1          	and	c
0345+  948F D9          	exx
0346+  9490 19          	add	hl,de
0347+  9491 B6          	or	(hl)
0348+  9492 D3 11       	out	($11),a
0349+  9494             
0350+  9494 0B          	dec bc ; 6 waste
0351+  9495             
0352+  9495 D9          	exx
0353+  9496 19          	add	hl,de
0354+  9497 7E          	ld	a,(hl)
0355+  9498 A0          	and	b
0356+  9499 D9          	exx
0357+  949A 19          	add	hl,de
0358+  949B B6          	or	(hl)
0359+  949C D3 11       	out	($11),a
0360+  949E             
0361+  949E 3E 03       	ld a,3 ;waste
0362+  94A0             
0363+  94A0 D9          	exx
0364+  94A1 19          	add	hl,de
0365+  94A2 7E          	ld	a,(hl)
0366+  94A3 A1          	and	c
0367+  94A4 D9          	exx
0368+  94A5 19          	add	hl,de
0369+  94A6 B6          	or	(hl)
0370+  94A7 D3 11       	out	($11),a
0371+  94A9             
0372+  94A9 10 D6       	djnz	grayFastCopyLoop
0373+  94AB             
0374+  94AB             
0375+  94AB 79          	ld	a,c
0376+  94AC FE 2C       	cp	$2B+1
0377+  94AE 20 BC       	jr	nz,grayFastCopyAgain
0378+  94B0             
0379+  94B0 3A C9 94    	ld a,(grayvar)
0380+  94B3 2F          	cpl
0381+  94B4 32 C9 94    	ld (grayvar),a
0382+  94B7             	
0383+  94B7 3E 02       	ld a,interfrequency \ out ($04),a
0383+  94B9 D3 04       
0384+  94BB 3E 08       	ld a,$08 \ out ($03),a
0384+  94BD D3 03       
0385+  94BF 3E 0A       	ld a,$0A \ out ($03),a
0385+  94C1 D3 03       
0386+  94C3             
0387+  94C3 E1          	pop hl \ pop de \ pop bc \ pop af
0387+  94C4 D1          
0387+  94C5 C1          
0387+  94C6 F1          
0388+  94C7             
0389+  94C7 FB          	ei
0390+  94C8 C9          	ret
0391+  94C9             	;=== now it should return to the main loop, but
0392+  94C9             	;=== it returns to interrupt_start!
0393+  94C9             	;=== i dont get it :( help!
0394+  94C9             
0395+  94C9             grayvar:
0396+  94C9 AA          	.db %10101010
0397+  94CA             	
0398+  94CA             
0399+  94CA             ;==========================================================
0400+  94CA             ; draw4levelGrayScale INTERRUPT
0401+  94CA             ;==========================================================
0402+  94CA             draw4levelGrayscale:
0403+  94CA             #ifndef VTI
0404+  94CA F5          	push af \ push bc \ push de \ push hl
0404+  94CB C5          
0404+  94CC D5          
0404+  94CD E5          
0405+  94CE             	
0406+  94CE             Gray4fastCopy:
0407+  94CE 3E 80       	ld	a,$80
0408+  94D0 D3 10       	out	($10),a
0409+  94D2             
0410+  94D2 D9          	exx
0411+  94D3 21 73 9B    	ld	hl,gActivebuf2-12-(-(12*64)+1)
0412+  94D6 D9          	exx
0413+  94D7             
0414+  94D7 21 73 98    	ld	hl,gActivebuf1-12-(-(12*64)+1)
0415+  94DA 3E 20       	ld	a,$20
0416+  94DC 4F          	ld	c,a
0417+  94DD             
0418+  94DD             Gray4fastCopyAgain:
0419+  94DD             
0420+  94DD 06 15       	ld	b,21
0421+  94DF             
0422+  94DF             	;=== x-loop
0423+  94DF 0C          	inc	c
0424+  94E0 11 01 FD    	ld	de,-(12*64)+1
0425+  94E3 D3 10       	out	($10),a
0426+  94E5 19          	add	hl,de
0427+  94E6 11 0C 00    	ld	de,12
0428+  94E9             
0429+  94E9 D9          	exx	
0430+  94EA 11 01 FD    	ld	de,-(12*64)+1
0431+  94ED 19          	add	hl,de
0432+  94EE 11 0C 00    	ld	de,12
0433+  94F1 D9          	exx
0434+  94F2             
0435+  94F2             Gray4fastCopyLoop:
0436+  94F2             	;===y-loop
0437+  94F2 C5          	push bc
0438+  94F3             
0439+  94F3             ;-------------------------
0440+  94F3 D9          	exx
0441+  94F4 19          	add	hl,de
0442+  94F5 7E          	ld	a,(hl)
0443+  94F6             Gray4fc_moda1:
0444+  94F6 E6 92       	and	%10010010
0445+  94F8 D9          	exx
0446+  94F9 19          	add	hl,de
0447+  94FA 47          	ld	b,a
0448+  94FB 7E          	ld	a,(hl)
0449+  94FC             Gray4fc_moda2:
0450+  94FC E6 6D       	and	%01101101
0451+  94FE B0          	or	b
0452+  94FF D3 11       	out	($11),a
0453+  9501             ;-------------------------
0454+  9501 D9          	exx
0455+  9502 19          	add	hl,de
0456+  9503 7E          	ld	a,(hl)
0457+  9504             Gray4fc_modb1:
0458+  9504 E6 49       	and	%01001001
0459+  9506 D9          	exx
0460+  9507 19          	add	hl,de
0461+  9508 47          	ld	b,a
0462+  9509 7E          	ld	a,(hl)
0463+  950A             Gray4fc_modb2:
0464+  950A E6 B6       	and	%10110110
0465+  950C B0          	or	b
0466+  950D D3 11       	out	($11),a
0467+  950F             ;-------------------------
0468+  950F D9          	exx
0469+  9510 19          	add	hl,de
0470+  9511 7E          	ld	a,(hl)
0471+  9512             Gray4fc_modc1:
0472+  9512 E6 24       	and	%00100100
0473+  9514 D9          	exx
0474+  9515 19          	add	hl,de
0475+  9516 47          	ld	b,a
0476+  9517 7E          	ld	a,(hl)
0477+  9518             Gray4fc_modc2:
0478+  9518 E6 DB       	and	%11011011
0479+  951A B0          	or	b
0480+  951B D3 11       	out	($11),a
0481+  951D             ;----------------
0482+  951D             
0483+  951D C1          	pop bc
0484+  951E 10 D2       	djnz	Gray4fastCopyLoop
0485+  9520             	;===end y-loop
0486+  9520             
0487+  9520 C5          	push bc
0488+  9521 D9          	exx
0489+  9522 19          	add	hl,de
0490+  9523 7E          	ld	a,(hl)
0491+  9524             Gray4fc_modd1:
0492+  9524 E6 92       	and	%10010010
0493+  9526 D9          	exx
0494+  9527 19          	add	hl,de
0495+  9528 47          	ld	b,a
0496+  9529 7E          	ld	a,(hl)
0497+  952A             Gray4fc_modd2:
0498+  952A E6 6D       	and	%01101101
0499+  952C B0          	or	b
0500+  952D D3 11       	out	($11),a
0501+  952F C1          	pop bc
0502+  9530             
0503+  9530 79          	ld	a,c
0504+  9531 FE 2C       	cp	$2B+1
0505+  9533 20 A8       	jr	nz,Gray4fastCopyAgain
0506+  9535             	;===end x-loop
0507+  9535             
0508+  9535 3A 7A 95    	ld a,(Gray4grayint)
0509+  9538 3C          	inc a
0510+  9539 FE 03       	cp 3 \ jr nz,Gray4fc_grayintinc
0510+  953B 20 01       
0511+  953D AF          	xor a
0512+  953E             Gray4fc_grayintinc:
0513+  953E 32 7A 95    	ld (Gray4grayint),a
0514+  9541 21 7B 95    	ld hl,Gray4fc_masktable
0515+  9544 06 00       	ld b,0 \ ld c,a
0515+  9546 4F          
0516+  9547 09          	add hl,bc
0517+  9548             
0518+  9548             	;first
0519+  9548 7E          	ld a,(hl)
0520+  9549 32 F7 94    	ld (Gray4fc_moda1+1),a
0521+  954C 32 25 95    	ld (Gray4fc_modd1+1),a
0522+  954F 2F          	cpl
0523+  9550 32 FD 94    	ld (Gray4fc_moda2+1),a
0524+  9553 32 2B 95    	ld (Gray4fc_modd2+1),a
0525+  9556 23          	inc hl
0526+  9557             
0527+  9557             	;second
0528+  9557 7E          	ld a,(hl)
0529+  9558 32 05 95    	ld (Gray4fc_modb1+1),a
0530+  955B 2F          	cpl
0531+  955C 32 0B 95    	ld (Gray4fc_modb2+1),a
0532+  955F 23          	inc hl
0533+  9560             
0534+  9560             	;third
0535+  9560 7E          	ld a,(hl)
0536+  9561 32 13 95    	ld (Gray4fc_modc1+1),a
0537+  9564 2F          	cpl
0538+  9565 32 19 95    	ld (Gray4fc_modc2+1),a
0539+  9568             		
0540+  9568 3E 02       	ld a,interfrequency \ out ($04),a
0540+  956A D3 04       
0541+  956C 3E 08       	ld a,$08 \ out ($03),a
0541+  956E D3 03       
0542+  9570 3E 0A       	ld a,$0A \ out ($03),a
0542+  9572 D3 03       
0543+  9574             
0544+  9574 E1          	pop hl \ pop de \ pop bc \ pop af
0544+  9575 D1          
0544+  9576 C1          
0544+  9577 F1          
0545+  9578             
0546+  9578 FB          	ei
0547+  9579 C9          	ret
0548+  957A             
0549+  957A             Gray4grayint:
0550+  957A 00          	.db 0
0551+  957B             Gray4fc_masktable:
0552+  957B 9249249249  	.db %10010010, %01001001, %00100100, %10010010, %01001001
0553+  9580             
0554+  9580~            #else
0555+  9580~            
0556+  9580~            ;==========================================================
0557+  9580~            ; SPECIAL VTI GREYSCALE
0558+  9580~            ;==========================================================
0559+  9580~            
0560+  9580~            	push af \ push bc \ push de \ push hl
0560+  9580~            	push af \ push bc \ push de \ push hl
0560+  9580~            	push af \ push bc \ push de \ push hl
0560+  9580~            	push af \ push bc \ push de \ push hl
0561+  9580~            
0562+  9580~            vtifastCopy:
0563+  9580~            	di
0564+  9580~            	ld	a,$80				; 7
0565+  9580~            	out	($10),a				; 11
0566+  9580~            	ld a,(vtigrayint)
0567+  9580~            	or a \ jr z,vtiBuf2
0567+  9580~            	or a \ jr z,vtiBuf2
0568+  9580~            vtiBuf1:
0569+  9580~            	ld	hl,gActivebuf1-12-(-(12*64)+1)	
0570+  9580~            	jr vtia
0571+  9580~            vtiBuf2:
0572+  9580~            	ld	hl,gActivebuf2-12-(-(12*64)+1)	
0573+  9580~            vtia:
0574+  9580~            
0575+  9580~            	ld	a,$20				; 7
0576+  9580~            	ld	c,a				; 4
0577+  9580~            	inc	hl				; 6 waste
0578+  9580~            	dec	hl				; 6 waste
0579+  9580~            vtifastCopyAgain:
0580+  9580~            	ld	b,64				; 7
0581+  9580~            	inc	c				; 4
0582+  9580~            	ld	de,-(12*64)+1			; 10
0583+  9580~            	out	($10),a				; 11
0584+  9580~            	add	hl,de				; 11
0585+  9580~            	ld	de,10				; 10
0586+  9580~            vtifastCopyLoop:
0587+  9580~            	add	hl,de				; 11
0588+  9580~            	inc	hl				; 6 waste
0589+  9580~            	inc	hl				; 6 waste
0590+  9580~            	inc	de				; 6
0591+  9580~            	ld	a,(hl)				; 7
0592+  9580~            	out	($11),a				; 11
0593+  9580~            	dec	de				; 6
0594+  9580~            	djnz	vtifastCopyLoop			; 13/8
0595+  9580~            	ld	a,c				; 4
0596+  9580~            	cp	$2B+1				; 7
0597+  9580~            	jr	nz,vtifastCopyAgain		; 10/1
0598+  9580~            
0599+  9580~            	ld a,(vtigrayint)
0600+  9580~            	inc a
0601+  9580~            	cp 3 \ jr nz,vtib
0601+  9580~            	cp 3 \ jr nz,vtib
0602+  9580~            	xor a
0603+  9580~            vtib:	ld (vtigrayint),a
0604+  9580~            
0605+  9580~            
0606+  9580~            	ld a,interfrequency \ out ($04),a
0606+  9580~            	ld a,interfrequency \ out ($04),a
0607+  9580~            	ld a,$08 \ out ($03),a
0607+  9580~            	ld a,$08 \ out ($03),a
0608+  9580~            	ld a,$0A \ out ($03),a
0608+  9580~            	ld a,$0A \ out ($03),a
0609+  9580~            	pop hl \ pop de \ pop bc \ pop af
0609+  9580~            	pop hl \ pop de \ pop bc \ pop af
0609+  9580~            	pop hl \ pop de \ pop bc \ pop af
0609+  9580~            	pop hl \ pop de \ pop bc \ pop af
0610+  9580~            	ei
0611+  9580~            	ret
0612+  9580~            
0613+  9580~            vtigrayint:
0614+  9580~            	.db 0
0615+  9580             #endif
0616+  9580             
0617+  9580~            #ifdef GETK
0618+  9580~            ;==========================================================
0619+  9580~            ; gsGetK
0620+  9580~            ;==========================================================
0621+  9580~            gsGetK:
0622+  9580~            	push bc
0623+  9580~            	push de
0624+  9580~            	push hl
0625+  9580~            gs_GetK2:
0626+  9580~            	ld b,7
0627+  9580~            gs_GetK_loop:
0628+  9580~            
0629+  9580~            	ld a,7
0630+  9580~            	sub b
0631+  9580~            	ld hl,gs_keygroups
0632+  9580~            	ld d,0 \ ld e,a
0632+  9580~            	ld d,0 \ ld e,a
0633+  9580~            	add hl,de
0634+  9580~            	ld a,(hl)
0635+  9580~            	ld c,a
0636+  9580~            
0637+  9580~            	ld a,0ffh           ;resets the keypad.
0638+  9580~            	out (1),a           ;'Required syntax' :)
0639+  9580~            	ld a,c
0640+  9580~            	out (1),a
0641+  9580~            	in a,(1)            ;'Required Syntax'
0642+  9580~            
0643+  9580~            	ld de,0
0644+  9580~            	cp 254 \ jr z,gs_GetK_254
0644+  9580~            	cp 254 \ jr z,gs_GetK_254
0645+  9580~            	cp 253 \ jr z,gs_GetK_253
0645+  9580~            	cp 253 \ jr z,gs_GetK_253
0646+  9580~            	cp 251 \ jr z,gs_GetK_251
0646+  9580~            	cp 251 \ jr z,gs_GetK_251
0647+  9580~            	cp 247 \ jr z,gs_GetK_247
0647+  9580~            	cp 247 \ jr z,gs_GetK_247
0648+  9580~            	cp 239 \ jr z,gs_GetK_239
0648+  9580~            	cp 239 \ jr z,gs_GetK_239
0649+  9580~            	cp 223 \ jr z,gs_GetK_223
0649+  9580~            	cp 223 \ jr z,gs_GetK_223
0650+  9580~            	cp 191 \ jr z,gs_GetK_191
0650+  9580~            	cp 191 \ jr z,gs_GetK_191
0651+  9580~            	cp 127 \ jr z,gs_GetK_127
0651+  9580~            	cp 127 \ jr z,gs_GetK_127
0652+  9580~            
0653+  9580~            gs_GetK_loopend:
0654+  9580~            
0655+  9580~            	djnz gs_GetK_loop
0656+  9580~            
0657+  9580~            	xor a
0658+  9580~            	ld (gs_keymem),a
0659+  9580~            	jr gs_GetK_end
0660+  9580~            
0661+  9580~            gs_GetK_127:
0662+  9580~            	inc e
0663+  9580~            gs_GetK_191:
0664+  9580~            	inc e
0665+  9580~            gs_GetK_223:
0666+  9580~            	inc e
0667+  9580~            gs_GetK_239:
0668+  9580~            	inc e
0669+  9580~            gs_GetK_247:
0670+  9580~            	inc e
0671+  9580~            gs_GetK_251:
0672+  9580~            	inc e
0673+  9580~            gs_GetK_253:
0674+  9580~            	inc e
0675+  9580~            gs_GetK_254:
0676+  9580~            
0677+  9580~            	push de
0678+  9580~            	ld a,7
0679+  9580~            	sub b
0680+  9580~            	add a,a \ add a,a \ add a,a
0680+  9580~            	add a,a \ add a,a \ add a,a
0680+  9580~            	add a,a \ add a,a \ add a,a
0681+  9580~            	ld d,0 \ ld e,a
0681+  9580~            	ld d,0 \ ld e,a
0682+  9580~            	ld hl,gs_keygroup1
0683+  9580~            	add hl,de
0684+  9580~            	pop de
0685+  9580~            	add hl,de
0686+  9580~            	ld a,(hl)
0687+  9580~            
0688+  9580~            	;push hl
0689+  9580~            	;push de
0690+  9580~            	;push af
0691+  9580~            	;bcall(_puts)
0692+  9580~            	;ld	hl,2567
0693+  9580~            	;ld	(currow),hl
0694+  9580~            	;ld	h,0
0695+  9580~            	;ld	l,a
0696+  9580~            	;bcall(_disphl)
0697+  9580~            	;pop af
0698+  9580~            	;pop de
0699+  9580~            	;pop hl
0700+  9580~            
0701+  9580~            	ld d,a
0702+  9580~            	ld a,(gs_keymem)
0703+  9580~            	cp d \ jr z,gs_getK_end
0703+  9580~            	cp d \ jr z,gs_getK_end
0704+  9580~            	ld a,d
0705+  9580~            	ld (gs_keymem),a
0706+  9580~            
0707+  9580~            
0708+  9580~            gs_GetK_end:
0709+  9580~            
0710+  9580~            ;	ld b,255
0711+  9580~            ;gs_GetK_endloopc:
0712+  9580~            ;	push bc
0713+  9580~            ;	ld b,255
0714+  9580~            ;gs_Getk_endloopa:
0715+  9580~            ;	push bc
0716+  9580~            ;	ld b,255
0717+  9580~            ;gs_GetK_endloopb:
0718+  9580~            ;	push hl
0719+  9580~            ;	pop hl
0720+  9580~            ;	djnz gs_GetK_endloopb
0721+  9580~            ;	pop bc
0722+  9580~            ;	djnz gs_GetK_endloopa
0723+  9580~            ;	pop bc
0724+  9580~            ;	djnz gs_GetK_endloopc
0725+  9580~            
0726+  9580~            	pop hl
0727+  9580~            	pop de
0728+  9580~            	pop bc
0729+  9580~            	ret
0730+  9580~            
0731+  9580~            gs_keygroups:
0732+  9580~            	.db $fe, $fd, $fb, $f7, $ef, $df, $bf
0733+  9580~            gs_keygroup1:
0734+  9580~            	.db 01h, 02h, 03h, 04h, 00h, 00h, 00h, 00h
0735+  9580~            gs_keygroup2:
0736+  9580~            	.db 09h, 0Ah, 0Bh, 0Ch, 0Dh, 00h, 0Fh, 00h
0737+  9580~            gs_keygroup3:
0738+  9580~            	.db 8Ch, 12h, 13h, 14h, 15h, 16h, 17h, 00h
0739+  9580~            gs_keygroup4:
0740+  9580~            	.db 8Dh, 1Ah, 1Bh, 1Ch, 1Dh, 1Eh, 1Fh, 20h
0741+  9580~            gs_keygroup5:
0742+  9580~            	.db 21h, 22h, 23h, 24h, 25h, 26h, 27h, 28h
0743+  9580~            gs_keygroup6:
0744+  9580~            	.db 00h, 2Ah, 2Bh, 2Ch, 2Dh, 2Eh, 2Fh, 30h
0745+  9580~            gs_keygroup7:
0746+  9580~            	.db 31h, 32h, 33h, 34h, 35h, 36h, 37h, 38h 
0747+  9580~            gs_keymem:
0748+  9580~            	.db 0
0749+  9580             #endif
0750+  9580             
0751+  9580             
0752+  9580             #ifndef NODOUBLEBUFFER
0753+  9580             gActivebuf1:
0754+  9580 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0754+  9586 000000000000000000000000000000000000
0755+  9598 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0755+  959E 000000000000000000000000000000000000
0756+  95B0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0756+  95B6 000000000000000000000000000000000000
0757+  95C8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0757+  95CE 000000000000000000000000000000000000
0758+  95E0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0758+  95E6 000000000000000000000000000000000000
0759+  95F8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0759+  95FE 000000000000000000000000000000000000
0760+  9610 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0760+  9616 000000000000000000000000000000000000
0761+  9628 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0761+  962E 000000000000000000000000000000000000
0762+  9640 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0762+  9646 000000000000000000000000000000000000
0763+  9658 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0763+  965E 000000000000000000000000000000000000
0764+  9670 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0764+  9676 000000000000000000000000000000000000
0765+  9688 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0765+  968E 000000000000000000000000000000000000
0766+  96A0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0766+  96A6 000000000000000000000000000000000000
0767+  96B8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0767+  96BE 000000000000000000000000000000000000
0768+  96D0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0768+  96D6 000000000000000000000000000000000000
0769+  96E8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0769+  96EE 000000000000000000000000000000000000
0770+  9700 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0770+  9706 000000000000000000000000000000000000
0771+  9718 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0771+  971E 000000000000000000000000000000000000
0772+  9730 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0772+  9736 000000000000000000000000000000000000
0773+  9748 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0773+  974E 000000000000000000000000000000000000
0774+  9760 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0774+  9766 000000000000000000000000000000000000
0775+  9778 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0775+  977E 000000000000000000000000000000000000
0776+  9790 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0776+  9796 000000000000000000000000000000000000
0777+  97A8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0777+  97AE 000000000000000000000000000000000000
0778+  97C0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0778+  97C6 000000000000000000000000000000000000
0779+  97D8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0779+  97DE 000000000000000000000000000000000000
0780+  97F0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0780+  97F6 000000000000000000000000000000000000
0781+  9808 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0781+  980E 000000000000000000000000000000000000
0782+  9820 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0782+  9826 000000000000000000000000000000000000
0783+  9838 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0783+  983E 000000000000000000000000000000000000
0784+  9850 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0784+  9856 000000000000000000000000000000000000
0785+  9868 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0785+  986E 000000000000000000000000000000000000
0786+  9880             gActivebuf2:
0787+  9880 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0787+  9886 000000000000000000000000000000000000
0788+  9898 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0788+  989E 000000000000000000000000000000000000
0789+  98B0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0789+  98B6 000000000000000000000000000000000000
0790+  98C8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0790+  98CE 000000000000000000000000000000000000
0791+  98E0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0791+  98E6 000000000000000000000000000000000000
0792+  98F8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0792+  98FE 000000000000000000000000000000000000
0793+  9910 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0793+  9916 000000000000000000000000000000000000
0794+  9928 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0794+  992E 000000000000000000000000000000000000
0795+  9940 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0795+  9946 000000000000000000000000000000000000
0796+  9958 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0796+  995E 000000000000000000000000000000000000
0797+  9970 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0797+  9976 000000000000000000000000000000000000
0798+  9988 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0798+  998E 000000000000000000000000000000000000
0799+  99A0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0799+  99A6 000000000000000000000000000000000000
0800+  99B8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800+  99BE 000000000000000000000000000000000000
0801+  99D0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0801+  99D6 000000000000000000000000000000000000
0802+  99E8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0802+  99EE 000000000000000000000000000000000000
0803+  9A00 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0803+  9A06 000000000000000000000000000000000000
0804+  9A18 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0804+  9A1E 000000000000000000000000000000000000
0805+  9A30 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0805+  9A36 000000000000000000000000000000000000
0806+  9A48 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0806+  9A4E 000000000000000000000000000000000000
0807+  9A60 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0807+  9A66 000000000000000000000000000000000000
0808+  9A78 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0808+  9A7E 000000000000000000000000000000000000
0809+  9A90 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0809+  9A96 000000000000000000000000000000000000
0810+  9AA8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0810+  9AAE 000000000000000000000000000000000000
0811+  9AC0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0811+  9AC6 000000000000000000000000000000000000
0812+  9AD8 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0812+  9ADE 000000000000000000000000000000000000
0813+  9AF0 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0813+  9AF6 000000000000000000000000000000000000
0814+  9B08 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0814+  9B0E 000000000000000000000000000000000000
0815+  9B20 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0815+  9B26 000000000000000000000000000000000000
0816+  9B38 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0816+  9B3E 000000000000000000000000000000000000
0817+  9B50 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0817+  9B56 000000000000000000000000000000000000
0818+  9B68 000000000000	.db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0818+  9B6E 000000000000000000000000000000000000
0819+  9B80             #endif
0820+  9B80             
0050   9B80             
0051   9B80             .end
0052   9B80             END
tasm: Number of errors = 0
